{"version":3,"file":"src_app_pages_public_redefine-password_redefine-password_module_ts.js","mappings":"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","sources":["./src/app/pages/public/redefine-password/guard/resolve.guard.ts","./src/app/pages/public/redefine-password/redefine-password-routing.module.ts","./src/app/pages/public/redefine-password/redefine-password.module.ts","./src/app/pages/public/redefine-password/redefine-password.page.ts","./src/app/pages/public/redefine-password/services/redefine-password.service.ts","./src/app/pages/public/redefine-password/redefine-password.page.scss"],"sourcesContent":["import { catchError } from 'rxjs/operators';\nimport { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Router, UrlTree } from '@angular/router';\nimport { Observable, EMPTY } from 'rxjs';\nimport { User } from 'src/app/interface';\nimport { RedefinePasswordService } from '../services/redefine-password.service';\n\n@Injectable()\nexport class RedefinePasswordResolver {\n  constructor(\n    private router: Router,\n    private redefineService: RedefinePasswordService\n  ) {}\n\n  resolve(\n    route: ActivatedRouteSnapshot & { params: { token?: string } }\n  ): Observable<User> | UrlTree {\n    if (route.params?.token) {\n      return this.redefineService.requirement(route.params?.token).pipe(\n        catchError((error): Observable<never> => {\n          this.router.parseUrl('/404');\n          return EMPTY;\n        })\n      );\n    }\n    return this.router.parseUrl('/');\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RedefinePasswordPage } from './redefine-password.page';\nimport { RedefinePasswordResolver } from './guard/resolve.guard';\nimport { PublicAutorizationGuard } from 'src/app/services/auth/guard/public-autorization/public-autorization.guard';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RedefinePasswordPage,\n    canActivate:[PublicAutorizationGuard],\n    canLoad: [PublicAutorizationGuard],\n    resolve: {\n      redefinePassword: RedefinePasswordResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RedefinePasswordPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\n\nimport { RedefinePasswordPage } from './redefine-password.page';\n\nimport { FormComponentModule } from 'src/app/components/form/form.module';\nimport { RedefinePasswordResolver } from './guard/resolve.guard';\nimport { RedefinePasswordService } from './services/redefine-password.service';\nimport { RedefinePasswordPageRoutingModule } from './redefine-password-routing.module';\nimport { HeaderModule } from 'src/app/header/header.module';\nimport { FooterModule } from 'src/app/footer/footer.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RedefinePasswordPageRoutingModule,\n    FormComponentModule,\n    HeaderModule,\n    FooterModule\n  ],\n  declarations: [RedefinePasswordPage],\n  providers: [RedefinePasswordResolver, RedefinePasswordService]\n})\nexport class RedefinePasswordPageModule {}\n","import { LoadingService } from './../../../utilities/loading/loading.service';\nimport { MessageService } from 'src/app/utilities/message/message.service';\nimport { ActivatedRoute, UrlTree } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { HttpErrorResponse } from '@angular/common/http';\n\nimport { RedefinePasswordService } from './services/redefine-password.service';\nimport { User } from 'src/app/interface';\nimport { FormGroup } from '@angular/forms';\nimport { AttrButton } from 'src/app/pages/public/system-access/components/buttons/interface';\nimport { Subscription } from 'rxjs';\nimport { HelpsService } from 'src/app/services/helps/helps.service';\n\n@Component({\n  selector: 'app-redefine-password',\n  templateUrl: './redefine-password.page.html',\n  styleUrls: ['./redefine-password.page.scss'],\n})\nexport class RedefinePasswordPage implements OnInit {\n  public user!: User;\n  public active!: boolean;\n  public attrButton!: AttrButton;\n  public message!: string;\n  private form!: FormGroup;\n  private urlTree!: boolean;\n  private redefine!: Subscription;\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private helpsService: HelpsService,\n    private redefinePasswordService: RedefinePasswordService,\n    private messageService: MessageService,\n    private loadingService: LoadingService\n  ) {}\n\n  ngOnInit() {\n    this.setConfig();\n    this.setAttrButton();\n    this.isActived();\n    this.setMessageLinkInvalid();\n  }\n\n  canDeactivate(): Observable<boolean> | Promise<boolean> | boolean | UrlTree {\n    if (this.authorizeRoute()) {\n      return this.authorizeRoute();\n    } else if (this.canAuthorizeTheRoute()) {\n      return this.canDeactivatedConfirmAlert();\n    }\n    return true;\n  }\n\n  public importForm(event: FormGroup) {\n    this.form = event;\n  }\n\n  public onSubmit(event: FormGroup) {\n    const loading = this.loadingService.show('Recuperando senha...');\n    return (this.redefine = this.redefinePasswordService\n      .passwordRecover(event.value)\n      .subscribe({\n        next: (user: User) => this.success(user, loading),\n        error: (error: HttpErrorResponse) => this.error(error, loading),\n      }));\n  }\n\n  private setMessageLinkInvalid() {\n    return (this.message = this.user?.message);\n  }\n\n  private isActived(): boolean {\n    return (this.active = this.user?.active);\n  }\n  private disableCanDeactivate(): boolean {\n    return (this.urlTree = true);\n  }\n\n  private authorizeRoute(): boolean {\n    return this.urlTree;\n  }\n\n  private canAuthorizeTheRoute(): boolean {\n    return this.helpsService.isAuthorizeTheRoute(this.form);\n  }\n\n  private canDeactivatedConfirmAlert() {\n    return this.helpsService.messageAuthorizeTheRoute();\n  }\n\n  private success(user: User, loading: Promise<HTMLIonLoadingElement>) {\n    this.disableCanDeactivate();\n    this.formUpdate();\n    this.redefinePasswordService.goToLoginPage();\n    return this.messageService.success(user.message, loading, this.redefine);\n  }\n\n  private error(\n    error: HttpErrorResponse,\n    loading: Promise<HTMLIonLoadingElement>\n  ): any {\n    return this.redefinePasswordService.error(error, loading, this.redefine);\n  }\n\n  private formUpdate(): number {\n    return this.helpsService.delay(\n      () =>\n        this.helpsService.correctFormGroupValueRecalculatingStatusControlsAndErrorMessages(\n          this.form,\n          this.user\n        ),\n      2000\n    );\n  }\n\n  private setConfig(): void {\n    this.user = this.activatedRoute.snapshot.data['redefinePassword'];\n  }\n\n  private setAttrButton(): void {\n    this.attrButton = {\n      route: 'redefinir-senha',\n      icon: 'arrow-up-circle',\n      label: 'Redefinir senha',\n\n      aria: 'Redefinir senha.',\n      title: 'Redefinir senha.',\n    };\n  }\n}\n","import { HttpService } from 'src/app/services/http/http.service';\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nimport { User } from 'src/app/interface';\nimport { NavController } from '@ionic/angular';\nimport { HelpsService } from 'src/app/services/helps/helps.service';\nimport { Subscription } from 'rxjs';\nimport { MessageService } from 'src/app/utilities/message/message.service';\nimport { StorageService } from 'src/app/services/storage/storage.service';\n\n@Injectable()\nexport class RedefinePasswordService extends HttpService<User> {\n  constructor(\n    public override http: HttpClient,\n    public override storageService: StorageService,\n    private navCtrl: NavController,\n    private helpsService: HelpsService,\n    private messageService: MessageService\n  ) {\n    super(http, storageService);\n    this.setApi = `redefine-password`;\n  }\n\n  public passwordRecover(user: User): Observable<User> {\n    return this.create(user);\n  }\n\n  public error(\n    error: HttpErrorResponse,\n    loading: Promise<HTMLIonLoadingElement>,\n    subscribe: Subscription\n  ) {\n    return this.messageService.error(error, loading, subscribe);\n  }\n\n  public goToLoginPage(): number {\n    return this.helpsService.delay(\n      () => this.navCtrl.navigateForward('/entrar'),\n      2500\n    );\n  }\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"ion-card-subtitle {\\n  display: flex;\\n  align-items: center;\\n  font-size: 100%;\\n}\\nion-card-subtitle ion-icon {\\n  margin-right: 10px;\\n  font-size: 160%;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/pages/public/redefine-password/redefine-password.page.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAA;EACA,mBAAA;EACA,eAAA;AACF;AAAE;EACE,kBAAA;EACA,eAAA;AAEJ\",\"sourcesContent\":[\"ion-card-subtitle {\\n  display: flex;\\n  align-items: center;\\n  font-size: 100%;\\n  ion-icon {\\n    margin-right: 10px;\\n    font-size: 160%;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["catchError","Injectable","Router","EMPTY","RedefinePasswordService","RedefinePasswordResolver","constructor","router","redefineService","resolve","route","params","token","requirement","pipe","error","parseUrl","NgModule","RouterModule","RedefinePasswordPage","PublicAutorizationGuard","routes","path","component","canActivate","canLoad","redefinePassword","RedefinePasswordPageRoutingModule","imports","forChild","exports","CommonModule","FormsModule","IonicModule","FormComponentModule","HeaderModule","FooterModule","RedefinePasswordPageModule","declarations","providers","LoadingService","MessageService","ActivatedRoute","Component","HelpsService","activatedRoute","helpsService","redefinePasswordService","messageService","loadingService","ngOnInit","setConfig","setAttrButton","isActived","setMessageLinkInvalid","canDeactivate","authorizeRoute","canAuthorizeTheRoute","canDeactivatedConfirmAlert","importForm","event","form","onSubmit","loading","show","redefine","passwordRecover","value","subscribe","next","user","success","message","active","disableCanDeactivate","urlTree","isAuthorizeTheRoute","messageAuthorizeTheRoute","formUpdate","goToLoginPage","delay","correctFormGroupValueRecalculatingStatusControlsAndErrorMessages","snapshot","data","attrButton","icon","label","aria","title","selector","template","HttpService","HttpClient","NavController","StorageService","http","storageService","navCtrl","setApi","create","navigateForward"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}