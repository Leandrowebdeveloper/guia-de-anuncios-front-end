"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6589],{6589:(O,A,t)=>{t.r(A),t.d(A,{AdminAnnouncementPageModule:()=>ge});var d=t(6895),p=t(433),i=t(9267),g=t(2263),f=t(677),h=t(6444),E=t(4897),l=t(1562),_=t(4154),c=t(5203),e=t(4650),a=t(6388),v=t(7868),P=t(67),T=t(9353),D=t(655),S=t(8505),C=t(262),U=t(7579),I=t(515),M=t(1395),x=t(8039),B=t(4759),Z=t(4859);function K(o,m){if(1&o&&(e.TgZ(0,"ion-col",7),e._UZ(1,"app-card-announcement-component",8),e.qZA()),2&o){const n=m.$implicit;e.xp6(1),e.Q6J("announcement",n)}}function W(o,m){if(1&o&&(e.TgZ(0,"ion-row"),e.YNc(1,K,2,1,"ion-col",2),e.TgZ(2,"ion-col",3)(3,"div",4),e._UZ(4,"ion-icon",5),e.TgZ(5,"ion-text",6),e._uU(6," N\xe3o \xe1 item na lixeira. "),e.qZA()()()()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.announcement),e.xp6(1),e.Q6J("hidden",(null==n.announcement?null:n.announcement.length)>0)}}const F=function(o){return{hide:o}};function N(o,m){if(1&o){const n=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col",10)(2,"div",4)(3,"div")(4,"ion-text",11)(5,"p",12),e._uU(6,"Erro ao carregar an\xfancios."),e.qZA()(),e.TgZ(7,"ion-refresher",13),e.NdJ("ionRefresh",function(r){e.CHM(n);const u=e.oxw(2);return e.KtG(u.refresher(r))}),e._UZ(8,"ion-refresher-content",14),e.qZA(),e.TgZ(9,"ion-text",11)(10,"ion-button",15),e.NdJ("mousedown",function(){e.CHM(n);const r=e.oxw(2);return e.KtG(r.hideMenssage())}),e._uU(11,"Puxe para atualizar "),e._UZ(12,"ion-icon",16),e.qZA()()()()()()}if(2&o){const n=e.oxw(2);e.xp6(5),e.Q6J("ngClass",e.VKq(1,F,n.menssage))}}function J(o,m){1&o&&e._UZ(0,"app-skeleton-announcement")}function z(o,m){if(1&o&&(e.YNc(0,N,13,3,"ion-row",0),e.ALo(1,"async"),e.YNc(2,J,1,0,"ng-template",null,9,e.W1O)),2&o){const n=e.MAs(3),s=e.oxw();e.Q6J("ngIf",e.lcZ(1,2,s.error))("ngIfElse",n)}}let b=(()=>{class o{constructor(n,s,r,u){this.adminAnnouncementService=n,this.alertService=s,this.messageService=r,this.loadingService=u,this.error=new U.x,this.limit=12,this.offset=0}ngOnInit(){this.getAnnouncement()}togglePage(n){this.toggleListAnnouncement!==n&&(this.toggleListAnnouncement=n,this.getAnnouncement())}refresher(n){this.getAnnouncement(),n.target.complete()}hideMenssage(){this.menssage=!0}actionButton(n){const{action:s,index:r,announcement:u}=n;return"drop"===s?this.destroy(r,u):this.toRestore(r,u)}destroy(n,s){return(0,D.mG)(this,void 0,void 0,function*(){this.isDeleted=n,yield(yield this.alertService.alertController.create({header:"Aten\xe7\xe3o",message:"Este an\xfancio ser\xe1 enviado para a lixeira.",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{this.isDeleted=-1}},{text:"Ok",role:"confirm",handler:()=>this.drop(s,n)}]})).present()})}toRestore(n,s){return(0,D.mG)(this,void 0,void 0,function*(){this.isToRestore=n,yield(yield this.alertService.alertController.create({message:`Item <i>" ${s?.title} "</i> ser\xe1 restalrado.`,buttons:[{text:"Cancelar",role:"cancel",handler:()=>{this.isToRestore=-1}},{text:"Ok",role:"confirm",handler:()=>this.restore(s,n)}]})).present()})}restore(n,s){const r=this.loadingService.show("Restaurar an\xfancio...");return this.destroyAnnouncement=this.adminAnnouncementService.toRestore(n).subscribe({next:u=>this.success(s,u,r),error:u=>this.messageService.error(u,r,this.destroyAnnouncement)})}removeItem(n){setTimeout(()=>{this.isToRestore=-1,this.announcement.splice(n,1)},6e3)}getAnnouncement(){return this.announcement$=this.adminAnnouncementService.getAnnouncementAll("deleted",{limit:this.limit,offset:this.offset}).pipe((0,S.b)(n=>{this.isAnnouncement=n.length>0,this.announcement=n}),(0,C.K)(n=>(setTimeout(()=>this.menssage=!1,300),this.error.next(!0),I.E)))}drop(n,s){const r=this.loadingService.show("Enviando para lixeira...");this.destroyAnnouncement=this.adminAnnouncementService.drop(n).subscribe({next:u=>this.success(s,u,r),error:u=>this.messageService.error(u,r,this.destroyAnnouncement)})}success(n,s,r){this.removeItem(n),this.messageService.success(s?.message,r,this.destroyAnnouncement,2e3)}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(E.E),e.Y36(M.c),e.Y36(a.e),e.Y36(x.b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-deleted-item-admin-announcement-page"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["Loading",""],["size-xl","4","size-lg","4","size-md","6","size-sm","6","size","12",4,"ngFor","ngForOf"],["size","12",3,"hidden"],[1,"content-center"],["color","medium","name","trash-outline"],["color","medium"],["size-xl","4","size-lg","4","size-md","6","size-sm","6","size","12"],[3,"announcement"],["loadingNoError",""],["size","12"],[1,"ion-text-center"],[3,"ngClass"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Puxe para baixo","refreshingSpinner","circles","refreshingText","Atualizar..."],[3,"mousedown"],["name","arrow-down-circle",1,"ion-margin-start"]],template:function(n,s){if(1&n&&(e.YNc(0,W,7,2,"ion-row",0),e.ALo(1,"async"),e.YNc(2,z,4,4,"ng-template",null,1,e.W1O)),2&n){const r=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,s.announcement$))("ngIfElse",r)}},dependencies:[d.mk,d.sg,d.O5,i.YG,i.wI,i.gu,i.nJ,i.Wo,i.Nd,i.yW,B._,Z.r,d.Ov],styles:[".content-center[_ngcontent-%COMP%]{font-size:1em}.content-center[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2.5em}"]}),o})();var Y=t(4004),y=t(6916),G=t(1228),R=t(9751);let Q=(()=>{class o{constructor(n,s){this.searchAnnouncementService=n,this.popoverController=s}ngOnInit(){this.filter()}ngOnDestroy(){this.$isIcon.unsubscribe()}searchBy(n){this.searchAnnouncementService.setSearchBy=n}close(){return this.popoverController.dismiss()}filter(){this.$isIcon=this.searchAnnouncementService.getSearchBy.subscribe({next:n=>this.isIcon=n})}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(y.d),e.Y36(i.Dh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-announcement-search-menu"]],decls:41,vars:6,consts:[["color","primary"],["slot","start","name","search"],["button","","detail","false","lines","inset",3,"click"],["color","success","slot","end","name","checkmark-done",3,"hidden"],["slot","start","name","reorder-four"],["slot","start","name","calendar"],["button","","detail","false","lines","close",3,"click"],["slot","end","name","close"]],template:function(n,s){1&n&&(e.TgZ(0,"ion-item-group")(1,"ion-item-divider",0)(2,"ion-label"),e._uU(3,"Pesquizar por"),e.qZA(),e._UZ(4,"ion-icon",1),e.qZA(),e.TgZ(5,"ion-item",2),e.NdJ("click",function(){return s.searchBy("title")}),e.TgZ(6,"ion-label"),e._uU(7,"T\xedtulo"),e.qZA(),e._UZ(8,"ion-icon",3),e.qZA(),e.TgZ(9,"ion-item-divider",0)(10,"ion-label"),e._uU(11,"Ordenar por"),e.qZA(),e._UZ(12,"ion-icon",4),e.qZA(),e.TgZ(13,"ion-item",2),e.NdJ("click",function(){return s.searchBy("title")}),e.TgZ(14,"ion-label"),e._uU(15,"T\xedtilo"),e.qZA(),e._UZ(16,"ion-icon",3),e.qZA(),e.TgZ(17,"ion-item",2),e.NdJ("click",function(){return s.searchBy("state")}),e.TgZ(18,"ion-label"),e._uU(19,"Status"),e.qZA(),e._UZ(20,"ion-icon",3),e.qZA(),e.TgZ(21,"ion-item",2),e.NdJ("click",function(){return s.searchBy("blockade")}),e.TgZ(22,"ion-label"),e._uU(23,"Bloqueados"),e.qZA(),e._UZ(24,"ion-icon",3),e.qZA(),e.TgZ(25,"ion-item-divider")(26,"ion-label"),e._uU(27,"Data"),e.qZA(),e._UZ(28,"ion-icon",5),e.qZA(),e.TgZ(29,"ion-item",2),e.NdJ("click",function(){return s.searchBy("createdAt")}),e.TgZ(30,"ion-label"),e._uU(31,"Registros"),e.qZA(),e._UZ(32,"ion-icon",3),e.qZA(),e.TgZ(33,"ion-item",2),e.NdJ("click",function(){return s.searchBy("updatedAt")}),e.TgZ(34,"ion-label"),e._uU(35,"Atualiza\xe7\xf5es"),e.qZA(),e._UZ(36,"ion-icon",3),e.qZA(),e.TgZ(37,"ion-item",6),e.NdJ("click",function(){return s.close()}),e.TgZ(38,"ion-label"),e._uU(39,"fechar"),e.qZA(),e._UZ(40,"ion-icon",7),e.qZA()()),2&n&&(e.xp6(8),e.Q6J("hidden","title"!==s.isIcon),e.xp6(8),e.Q6J("hidden","title"!==s.isIcon),e.xp6(4),e.Q6J("hidden","state"!==s.isIcon),e.xp6(4),e.Q6J("hidden","blockade"!==s.isIcon),e.xp6(8),e.Q6J("hidden","createdAt"!==s.isIcon),e.xp6(4),e.Q6J("hidden","updatedAt"!==s.isIcon))},dependencies:[i.gu,i.Ie,i.rH,i.Ub,i.Q$]}),o})();function $(o,m){if(1&o&&(e.TgZ(0,"span")(1,"small"),e._uU(2),e.qZA()()),2&o){const n=e.oxw();e.xp6(2),e.hij("",n.filterLabel," ")}}function j(o,m){1&o&&(e.TgZ(0,"small"),e._uU(1,"Pesquizar por nome"),e.qZA())}function w(o,m){if(1&o){const n=e.EpF();e.TgZ(0,"ion-item",16),e.NdJ("click",function(){const u=e.CHM(n).$implicit,L=e.oxw(3);return e.KtG(L.sendUrl(u))}),e.TgZ(1,"ion-thumbnail",17),e._UZ(2,"img",18),e.qZA(),e.TgZ(3,"ion-label"),e._uU(4),e.qZA()()}if(2&o){const n=m.$implicit;e.Q6J("lines",m.last?"none":"full"),e.xp6(2),e.Q6J("src",(null==n||null==n.image?null:n.image.url)||"./../../../assets/thumbnail.svg",e.LSH),e.xp6(2),e.hij("",null==n?null:n.title," ")}}function V(o,m){if(1&o&&(e.TgZ(0,"ion-list",14),e.YNc(1,w,5,3,"ion-item",15),e.qZA()),2&o){const n=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",n)}}function H(o,m){1&o&&(e.TgZ(0,"ion-list",14)(1,"ion-item",19)(2,"ion-label"),e._uU(3,"N\xe3o encontrado "),e.qZA()()())}const X=function(o){return{show:o}};function k(o,m){if(1&o&&(e.TgZ(0,"div",11),e.YNc(1,V,2,1,"ion-list",12),e.YNc(2,H,4,0,"ng-template",null,13,e.W1O),e.qZA()),2&o){const n=m.ngIf,s=e.MAs(3),r=e.oxw();e.Q6J("ngClass",e.VKq(3,X,r.show)),e.xp6(1),e.Q6J("ngIf",n.length>0)("ngIfElse",s)}}let q=(()=>{class o{constructor(n,s,r,u){this.navCtrl=n,this.router=s,this.searchAnnouncementService=r,this.popoverController=u,this.search=new e.vpe,this.search$=new R.y,this.triggerSearch$=new R.y(void 0),this.error$=new U.x,this.placeholder="Digite nome"}ngOnInit(){this.searchList(),this.setFilterLabelAndPlaceholder()}research(n){var s,r;return 0===(null===(r=null===(s=n.target)||void 0===s?void 0:s.value)||void 0===r?void 0:r.length)&&(this.show=!1),this.search.emit(n)}sendUrl(n){const s=this.router.url.split("/");return this.navCtrl.navigateForward([s[1],"anuncio",n?.slug])}menuShow(n){return(0,D.mG)(this,void 0,void 0,function*(){const s=yield this.popoverController.create({component:Q,event:n,translucent:!0});yield s.present(),yield s.onDidDismiss()})}searchList(){return this.search$=this.searchAnnouncementService.search.pipe((0,S.b)(n=>{n.length>=0&&(this.show=!0)}),(0,C.K)(n=>(this.error$.next(!0),I.E)))}setFilterLabelAndPlaceholder(){let n=0;this.triggerSearch$=this.searchAnnouncementService.getSearchBy.pipe((0,S.b)(s=>{this.placeholder="Digite t\xedtulo",this.filterLabel="Pesquizar por t\xedtulo",n>0&&(this.popoverController.dismiss(),n++)}))}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(i.SH),e.Y36(c.F0),e.Y36(y.d),e.Y36(i.Dh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-announcement-search-component"]],outputs:{search:"search"},decls:17,vars:8,consts:[["size","12"],[1,"dropdown"],["color","medium",1,"ion-margin-start"],[4,"ngIf","ngIfElse"],["Default",""],[1,"search"],["showClearButton","focus","inputmode","search","animated","",3,"placeholder","ionChange"],["searchbar",""],["size","small","color","none","title","Filtro da pesquiza",3,"click"],["name","filter"],["class","dropdown-content",3,"ngClass",4,"ngIf"],[1,"dropdown-content",3,"ngClass"],["class","list list-lg list-md list-sm list-xl",4,"ngIf","ngIfElse"],["Else",""],[1,"list","list-lg","list-md","list-sm","list-xl"],["button","","detail","",3,"lines","click",4,"ngFor","ngForOf"],["button","","detail","",3,"lines","click"],["slot","start"],["alt","Imagem do an\xfancio",3,"src"],["lines","none"]],template:function(n,s){if(1&n&&(e.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",0)(3,"div",1)(4,"ion-text",2),e.YNc(5,$,3,1,"span",3),e.ALo(6,"async"),e.YNc(7,j,2,0,"ng-template",null,4,e.W1O),e.qZA(),e.TgZ(9,"div",5)(10,"ion-searchbar",6,7),e.NdJ("ionChange",function(u){return s.research(u)}),e.qZA(),e.TgZ(12,"div")(13,"ion-fab-button",8),e.NdJ("click",function(u){return s.menuShow(u)}),e._UZ(14,"ion-icon",9),e.qZA()()(),e.YNc(15,k,4,5,"div",10),e.ALo(16,"async"),e.qZA()()()()),2&n){const r=e.MAs(8);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,4,s.triggerSearch$))("ngIfElse",r),e.xp6(5),e.Q6J("placeholder",s.placeholder),e.xp6(5),e.Q6J("ngIf",e.lcZ(16,6,s.search$))}},dependencies:[d.mk,d.sg,d.O5,i.wI,i.W4,i.jY,i.gu,i.Ie,i.Q$,i.q_,i.Nd,i.VI,i.yW,i.Bs,i.j9,d.Ov],styles:['.search[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.dropdown[_ngcontent-%COMP%]{position:relative;display:block}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#f6f6f6;width:98.4%;margin-top:-7px;left:8px;overflow:auto;border:1px solid #ddd;z-index:999}.show[_ngcontent-%COMP%]{display:block}.list[_ngcontent-%COMP%], .list-lg[_ngcontent-%COMP%], .list-md[_ngcontent-%COMP%], .list-sm[_ngcontent-%COMP%], .list-xl[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}span[_ngcontent-%COMP%]{position:relative}span[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{background-color:var(--ion-color-medium);color:var(--ion-color-danger-contrast);padding:4px;border-radius:4px;font-size:xx-small;font-weight:700}span[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-12px;left:9px;margin-left:-5px;border-width:5px;border-style:solid;border-color:var(--ion-color-medium) transparent transparent transparent}ion-thumbnail[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:auto}']}),o})();function ee(o,m){if(1&o){const n=e.EpF();e.TgZ(0,"app-announcement-search-component",9),e.NdJ("search",function(r){e.CHM(n);const u=e.oxw(2);return e.KtG(u.search(r))}),e.qZA()}}function ne(o,m){if(1&o&&(e.TgZ(0,"ion-col",10),e._UZ(1,"app-card-announcement-component",11),e.qZA()),2&o){const n=m.$implicit;e.xp6(1),e.Q6J("announcement",n)}}function te(o,m){if(1&o&&(e.TgZ(0,"ion-row")(1,"ion-col",2),e.YNc(2,ee,1,0,"app-announcement-search-component",3),e.qZA(),e.YNc(3,ne,2,1,"ion-col",4),e.TgZ(4,"ion-col",5)(5,"div",6),e._UZ(6,"ion-icon",7),e.TgZ(7,"ion-text",8),e._uU(8," N\xe3o \xe1 an\xfancio cadastrado. "),e.qZA()()()()),2&o){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",(null==n.announcement?null:n.announcement.length)>1),e.xp6(1),e.Q6J("ngForOf",n.announcement),e.xp6(1),e.Q6J("hidden",(null==n.announcement?null:n.announcement.length)>0||!n.isAdmin)}}const se=function(o){return{hide:o}};function oe(o,m){if(1&o){const n=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col",13)(2,"div",6)(3,"div")(4,"ion-text",14)(5,"p",15),e._uU(6,"Erro ao carregar an\xfancios."),e.qZA()(),e.TgZ(7,"ion-refresher",16),e.NdJ("ionRefresh",function(r){e.CHM(n);const u=e.oxw(2);return e.KtG(u.refresher(r))}),e._UZ(8,"ion-refresher-content",17),e.qZA(),e.TgZ(9,"ion-text",14)(10,"ion-button",18),e.NdJ("mousedown",function(){e.CHM(n);const r=e.oxw(2);return e.KtG(r.hideMenssage())}),e._uU(11,"Puxe para atualizar "),e._UZ(12,"ion-icon",19),e.qZA()()()()()()}if(2&o){const n=e.oxw(2);e.xp6(5),e.Q6J("ngClass",e.VKq(1,se,n.menssage))}}function ie(o,m){1&o&&e._UZ(0,"app-skeleton-announcement")}function re(o,m){if(1&o&&(e.YNc(0,oe,13,3,"ion-row",0),e.ALo(1,"async"),e.YNc(2,ie,1,0,"ng-template",null,12,e.W1O)),2&o){const n=e.MAs(3),s=e.oxw();e.Q6J("ngIf",e.lcZ(1,2,s.error))("ngIfElse",n)}}let ae=(()=>{class o{constructor(n,s,r,u,L,pe){this.adminAnnouncementService=n,this.searchAnnouncementService=s,this.authService=r,this.alertService=u,this.messageService=L,this.loadingService=pe,this.error=new U.x,this.limit=12,this.offset=0}get getSearchBy(){return this.searchBy}set setSearchBy(n){const s=JSON.parse(`{ "${n}":"null" }`);this.searchBy=s}ngOnInit(){this.getAnnouncement(),this.setButtonCreate(),this.initSearchBy()}ngOnDestroy(){this.$searchBy.unsubscribe()}refresher(n){this.getAnnouncement(),n.target.complete()}hideMenssage(){this.menssage=!0}actionButton(n){const{action:s,index:r,announcement:u}=n;if("destroy"===s)return this.destroy(r,u)}search(n){var s,r;if((null===(s=n?.target)||void 0===s?void 0:s.value.length)>=3){const u=this.setDataSearch(null===(r=n?.target)||void 0===r?void 0:r.value);return this.$search=this.adminAnnouncementService.searchBy(u).subscribe({next:L=>{this.searchAnnouncementService.search=L,setTimeout(()=>this.$search.unsubscribe(),2e3)}})}}destroy(n,s){return(0,D.mG)(this,void 0,void 0,function*(){this.isDeleted=n,yield(yield this.alertService.alertController.create({header:"Aten\xe7\xe3o",message:"Este an\xfancio ser\xe1 enviado para a lixeira.",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{this.isDeleted=-1}},{text:"Ok",role:"confirm",handler:()=>this.deleted(s,n)}]})).present()})}removeItem(n){setTimeout(()=>{this.isDeleted=-1,this.announcement.splice(n,1)},6e3)}getAnnouncement(){return this.announcement$=this.adminAnnouncementService.getAnnouncementAll("",{limit:this.limit,offset:this.offset}).pipe((0,S.b)(n=>{this.announcement=n}),(0,Y.U)(n=>n.map(s=>{var r;return s.category=Object.assign({},null===(r=s?.categoryAnnouncement)||void 0===r?void 0:r.category),null==s||delete s.categoryAnnouncement,s})),(0,C.K)(n=>(setTimeout(()=>this.menssage=!1,300),this.error.next(!0),I.E)))}deleted(n,s){const r=this.loadingService.show("Enviando para lixeira...");this.destroyAnnouncement=this.adminAnnouncementService.delete(n).subscribe({next:u=>this.success(s,u,r),error:u=>this.messageService.error(u,r,this.destroyAnnouncement)})}success(n,s,r){this.removeItem(n),this.message(s,r)}message(n,s){this.messageService.success(n.message,s,this.destroyAnnouncement,2e3)}setButtonCreate(){this.isAdmin="1"===this.authService.getLevel}orderBy(n){if(this.announcement)switch(n){case"title":this.announcement.sort((s,r)=>s?.title<r?.title&&-1);break;case"createdAt":this.announcement.sort((s,r)=>s?.createdAt>r?.createdAt&&-1);break;case"updatedAt":this.announcement.sort((s,r)=>s?.updatedAt>r?.updatedAt&&-1);break;case"state":this.announcement.sort((s,r)=>s?.state>r?.state&&-1);break;case"blockade":this.announcement.sort((s,r)=>s?.blockade>r?.blockade&&-1)}}initSearchBy(){this.$searchBy=this.searchAnnouncementService.getSearchBy.subscribe({next:n=>{"title"===n&&(this.setSearchBy=n,this.setSearchBy="title"),this.orderBy(n)}})}setDataSearch(n){let s;return this.getSearchBy?(this.searchBuild(n),s=this.getSearchBy):s={firstName:n},s}searchBuild(n){const s=Object.keys(this.getSearchBy)[0];this.getSearchBy[s]=n}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(E.E),e.Y36(y.d),e.Y36(G.e),e.Y36(M.c),e.Y36(a.e),e.Y36(x.b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-enabled-item-admin-announcement-page"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["Loading",""],["size","12",1,"ion-no-padding"],[3,"search",4,"ngIf"],["size-xl","6","size-lg","6","size-md","12","size-sm","12","size","12",4,"ngFor","ngForOf"],["size","12",3,"hidden"],[1,"content-center"],["color","medium","name","megaphone"],["color","medium"],[3,"search"],["size-xl","6","size-lg","6","size-md","12","size-sm","12","size","12"],[3,"announcement"],["loadingNoError",""],["size","12"],[1,"ion-text-center"],[3,"ngClass"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Puxe para baixo","refreshingSpinner","circles","refreshingText","Atualizar..."],[3,"mousedown"],["name","arrow-down-circle",1,"ion-margin-start"]],template:function(n,s){if(1&n&&(e.YNc(0,te,9,3,"ion-row",0),e.ALo(1,"async"),e.YNc(2,re,4,4,"ng-template",null,1,e.W1O)),2&n){const r=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,s.announcement$))("ngIfElse",r)}},dependencies:[d.mk,d.sg,d.O5,i.YG,i.wI,i.gu,i.nJ,i.Wo,i.Nd,i.yW,B._,Z.r,q,d.Ov],styles:[".content-center[_ngcontent-%COMP%]{font-size:1em}.content-center[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2.5em}"]}),o})();function ce(o,m){1&o&&(e.ynx(0),e._UZ(1,"app-enabled-item-admin-announcement-page"),e.BQk())}function le(o,m){1&o&&e._UZ(0,"app-deleted-item-admin-announcement-page")}const _e=function(o){return{show:o}},me=[{path:"",component:(()=>{class o{constructor(n,s){this.adminAnnouncementService=n,this.messageService=s,this.isOrder=!1,this.fab=!1}orderList(){this.isOrder=!this.isOrder,this.sendOrder=!this.sendOrder}isSaveOrder(n){n||(this.isOrder=n),this.sendOrder=n}saveOrder(){this.adminAnnouncementService.saveSorting.emit(!0)}togglePage(n){this.toggleList=n}logScrolling(n){this.fab=n.detail.scrollTop>500}toTop(){return this.content.scrollToTop(1e3)}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(E.E),e.Y36(a.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-announcement"]],viewQuery:function(n,s){if(1&n&&e.Gf(i.W2,7),2&n){let r;e.iGM(r=e.CRH())&&(s.content=r.first)}},decls:13,vars:7,consts:[[3,"scrollEvents","scrollY","ionScroll"],["fixed",""],["size","12"],[3,"togglePage"],[4,"ngIf","ngIfElse"],["ItemDeleted",""],["vertical","bottom","horizontal","end","slot","fixed"],["size","small","color","primary",1,"fab",3,"ngClass","click"],["name","arrow-up-circle","color","light"]],template:function(n,s){if(1&n&&(e._UZ(0,"app-header-component"),e.TgZ(1,"ion-content",0),e.NdJ("ionScroll",function(u){return s.logScrolling(u)}),e.TgZ(2,"ion-grid",1)(3,"ion-row")(4,"ion-col",2)(5,"app-segment-announcement-component",3),e.NdJ("togglePage",function(u){return s.togglePage(u)}),e.qZA(),e.YNc(6,ce,2,0,"ng-container",4),e.YNc(7,le,1,0,"ng-template",null,5,e.W1O),e.qZA()()(),e.TgZ(9,"ion-fab",6)(10,"ion-fab-button",7),e.NdJ("click",function(){return s.toTop()}),e._UZ(11,"ion-icon",8),e.qZA()()(),e._UZ(12,"app-footer")),2&n){const r=e.MAs(8);e.xp6(1),e.Q6J("scrollEvents",!0)("scrollY",!0),e.xp6(5),e.Q6J("ngIf",s.toggleList)("ngIfElse",r),e.xp6(4),e.Q6J("ngClass",e.VKq(5,_e,s.fab))}},dependencies:[d.mk,d.O5,i.wI,i.W2,i.IJ,i.W4,i.jY,i.gu,i.Nd,v.G,P.S,T.A,b,ae],styles:[".fab[_ngcontent-%COMP%]{opacity:0;transition:var(--transition)}.show[_ngcontent-%COMP%]{opacity:1}"]}),o})()}];let de=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.Bz.forChild(me),c.Bz]}),o})();var ue=t(6469),he=t(431),ve=t(3985);let ge=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[E.E,he.q,ve.j],imports:[d.ez,p.u5,i.Pc,de,g.d,f.O,h._,ue.O,_.h,l.x]}),o})()},2156:(O,A,t)=>{t.d(A,{K:()=>l});var d=t(8505),p=t(3755),i=t(4650),g=t(529),f=t(6578),h=t(9611),E=t(4111);let l=(()=>{class _ extends p.O{constructor(e,a,v,P){super(e,a),this.storageService=a,this.usersService=v,this.managementAnnouncementService=P,this.setApi="messages"}set setUserMessage(e){const a=this.usersService.getUsers.messages.length,v=this.usersService.getUsers.messages.findIndex(P=>P?.id===e?.id);-1===v?a>0?this.usersService.getUsers.messages.unshift(e):this.usersService.getUsers.messages=[e]:this.usersService.getUsers.messages.splice(v,1,e),this.usersService.setUsers=this.usersService.getUsers}send(e,a){return e?.id?this.patch(e,"management").pipe((0,d.b)(v=>"users"===a?this.setUserMessage=v:"announcement"===a?this.managementAnnouncementService.setAnnouncementMessage=v:void 0)):(delete e.id,this.create(e,"management").pipe((0,d.b)(v=>"users"===a?this.setUserMessage=v:"announcement"===a?this.managementAnnouncementService.setAnnouncementMessage=v:void 0)))}close(e){return this.destroy(e,"management")}}return _.\u0275fac=function(e){return new(e||_)(i.LFG(g.eN),i.LFG(f.V),i.LFG(h.J),i.LFG(E.O))},_.\u0275prov=i.Yz7({token:_,factory:_.\u0275fac}),_})()},541:(O,A,t)=>{t.d(A,{o:()=>l});var d=t(8505),p=t(3755),i=t(4650),g=t(529),f=t(6578),h=t(1228),E=t(9611);let l=(()=>{class _ extends p.O{constructor(e,a,v,P){super(e,a),this.http=e,this.storageService=a,this.authService=v,this.usersService=P,this.setApi="avatar"}get avatar(){var e;return null===(e=this.usersService.getUsers)||void 0===e?void 0:e.image}set avatar(e){this.usersService.getUsers.image=e,this.usersService.setUsers=this.usersService.getUsers}set setCsrf(e){this.csrf=e}delete(e){return this.destroy(e).pipe((0,d.b)(a=>this.setAuthAvatar(a)))}setAuthAvatar(e){var a,v,P;(null===(a=this.avatar)||void 0===a?void 0:a.userId)===e?.userId&&(this.avatar=e),(null===(P=null===(v=this.authService)||void 0===v?void 0:v.avatar)||void 0===P?void 0:P.userId)===e?.userId&&(this.authService.avatar=e)}}return _.\u0275fac=function(e){return new(e||_)(i.LFG(g.eN),i.LFG(f.V),i.LFG(h.e),i.LFG(E.J))},_.\u0275prov=i.Yz7({token:_,factory:_.\u0275fac}),_})()},9975:(O,A,t)=>{t.d(A,{S:()=>l});var d=t(3755),p=t(8505),i=t(4650),g=t(529),f=t(6578),h=t(9611),E=t(2156);let l=(()=>{class _ extends d.O{constructor(e,a,v,P){super(e,a),this.storageService=a,this.usersService=v,this.userMessageService=P,this.setApi="admin"}set setBlockade(e){this.usersService.getUsers.blockade=e,this.usersService.setUsers=this.usersService.getUsers}blockade(e){return e?.id?this.patch(e,"management/blockade").pipe((0,p.b)(a=>{this.setBlockade=a?.blockade,this.userMessageService.setUserMessage=a.messages})):this.create(e,"management/blockade").pipe((0,p.b)(a=>{this.setBlockade=a?.blockade,this.userMessageService.setUserMessage=a.messages}))}}return _.\u0275fac=function(e){return new(e||_)(i.LFG(g.eN),i.LFG(f.V),i.LFG(h.J),i.LFG(E.K))},_.\u0275prov=i.Yz7({token:_,factory:_.\u0275fac}),_})()},6330:(O,A,t)=>{t.d(A,{_:()=>l});var d=t(3755),p=t(8505),i=t(4650),g=t(529),f=t(6578),h=t(9267),E=t(9611);let l=(()=>{class _ extends d.O{constructor(e,a,v,P){super(e,a),this.storageService=a,this.navCtrl=v,this.adminUsersService=P,this.setApi="admin"}delete(e){return this.destroy(e,"management/trash").pipe((0,p.b)(a=>{if(a)return this.adminUsersService.setDelete=a,setTimeout(()=>this.navCtrl.navigateBack(["/painel-de-controle","admin","usuarios"]),3600)}))}}return _.\u0275fac=function(e){return new(e||_)(i.LFG(g.eN),i.LFG(f.V),i.LFG(h.SH),i.LFG(E.J))},_.\u0275prov=i.Yz7({token:_,factory:_.\u0275fac}),_})()},8238:(O,A,t)=>{t.d(A,{j:()=>f});var d=t(3755),p=t(4650),i=t(529),g=t(6578);let f=(()=>{class h extends d.O{constructor(l,_){super(l,_),this.storageService=_,this.setApi="admin"}email(l){return this.patch(l,"management/email")}}return h.\u0275fac=function(l){return new(l||h)(p.LFG(i.eN),p.LFG(g.V))},h.\u0275prov=p.Yz7({token:h,factory:h.\u0275fac}),h})()},7312:(O,A,t)=>{t.d(A,{H:()=>E});var d=t(8505),p=t(3755),i=t(4650),g=t(529),f=t(6578),h=t(9611);let E=(()=>{class l extends p.O{constructor(c,e,a){super(c,e),this.storageService=e,this.usersService=a,this.setApi="admin"}set setLevel(c){this.usersService.getUsers.level=c,this.usersService.setUsers=this.usersService.getUsers}level(c){return this.patch(c,"management/level").pipe((0,d.b)(e=>this.setLevel=e?.level))}}return l.\u0275fac=function(c){return new(c||l)(i.LFG(g.eN),i.LFG(f.V),i.LFG(h.J))},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac}),l})()},6024:(O,A,t)=>{t.d(A,{o:()=>_});var d=t(8505),p=t(3755),i=t(4650),g=t(529),f=t(6578),h=t(6895),E=t(1247),l=t(9611);let _=(()=>{class c extends p.O{constructor(a,v,P,T,D){super(a,v),this.storageService=v,this.location=P,this.breadcrumbsService=T,this.usersService=D,this.setApi="admin"}set setName(a){this.usersService.getUsers.firstName=a?.firstName,this.usersService.getUsers.lastName=a?.lastName,this.usersService.getUsers.slug=a?.slug,this.usersService.getUsers.name=a?.name,this.usersService.setUsers=this.usersService.getUsers}name(a){return this.patch(a,"management/name").pipe((0,d.b)(v=>{this.setName=v,this.updateUsersUrl(v)}))}updateUsersUrl(a){const v=`/painel-de-controle/admin/usuario/${a?.slug}`;this.breadcrumbsService.setEvent(v),this.location.replaceState(v)}}return c.\u0275fac=function(a){return new(a||c)(i.LFG(g.eN),i.LFG(f.V),i.LFG(h.Ye),i.LFG(E.d),i.LFG(l.J))},c.\u0275prov=i.Yz7({token:c,factory:c.\u0275fac}),c})()},9050:(O,A,t)=>{t.d(A,{F:()=>E});var d=t(8505),p=t(3755),i=t(4650),g=t(529),f=t(6578),h=t(9611);let E=(()=>{class l extends p.O{constructor(c,e,a){super(c,e),this.storageService=e,this.usersService=a,this.setApi="admin"}set setIsPassword(c){this.usersService.getUsers.isPassword=c,this.usersService.setUsers=this.usersService.getUsers}password(c){return this.patch(c,"management/password").pipe((0,d.b)(e=>this.setIsPassword=e?.isPassword))}}return l.\u0275fac=function(c){return new(c||l)(i.LFG(g.eN),i.LFG(f.V),i.LFG(h.J))},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac}),l})()},5351:(O,A,t)=>{t.d(A,{V:()=>E});var d=t(3755),p=t(8505),i=t(4650),g=t(529),f=t(6578),h=t(9611);let E=(()=>{class l extends d.O{constructor(c,e,a){super(c,e),this.storageService=e,this.usersService=a,this.setApi="admin"}set setPlan(c){this.usersService.getUsers.plan=c,this.usersService.setUsers=this.usersService.getUsers}plan(c){return console.log(c),this.patch(c,"management/plan").pipe((0,p.b)(e=>this.setPlan=e))}}return l.\u0275fac=function(c){return new(c||l)(i.LFG(g.eN),i.LFG(f.V),i.LFG(h.J))},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac}),l})()},8552:(O,A,t)=>{t.d(A,{e:()=>i});var d=t(4650),p=t(1135);let i=(()=>{class g{constructor(){this.result=new d.vpe(void 0),this.search$=new p.X(void 0),this.setSearchBy="firstName"}get getSearchBy(){return this.search$.asObservable()}get search(){return this.result.asObservable()}set search(h){this.result.emit(h)}set setSearchBy(h){this.search$.next(h)}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac}),g})()},8165:(O,A,t)=>{t.d(A,{b:()=>E});var d=t(3755),p=t(8505),i=t(4650),g=t(529),f=t(6578),h=t(9611);let E=(()=>{class l extends d.O{constructor(c,e,a){super(c,e),this.storageService=e,this.usersService=a,this.setApi="admin"}set setState(c){this.usersService.getUsers.state=c?.state,this.usersService.getUsers.updatedAt=c?.updatedAt,this.usersService.setUsers=this.usersService.getUsers}state(c){return this.patch(c,"management/state").pipe((0,p.b)(e=>{this.setState=e}))}}return l.\u0275fac=function(c){return new(c||l)(i.LFG(g.eN),i.LFG(f.V),i.LFG(h.J))},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac}),l})()},6469:(O,A,t)=>{t.d(A,{O:()=>I});var d=t(5203),p=t(6895),i=t(433),g=t(9267),f=t(1265),h=t(2728),E=t(2263),l=t(8165),_=t(5351),c=t(9050),e=t(6024),a=t(7312),v=t(6330),P=t(541),T=t(9975),D=t(8238),S=t(8552),C=t(2156),U=t(4650);let I=(()=>{class M{}return M.\u0275fac=function(B){return new(B||M)},M.\u0275mod=U.oAB({type:M}),M.\u0275inj=U.cJS({providers:[T.S,C.K,l.b,_.V,c.F,e.o,a.H,v._,P.o,D.j,S.e],imports:[p.ez,i.u5,g.Pc,d.Bz,f.Q,h.i,E.d]}),M})()}}]);