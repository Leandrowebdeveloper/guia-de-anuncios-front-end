"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5303],{1247:(P,m,n)=>{n.d(m,{d:()=>i});var v=n(4650),c=n(5203),h=n(1135),_=n(9300);let i=(()=>{class l{constructor(t){this.router=t,this.breadcrumbEvent=new v.vpe(null),this.breadcrumb=new h.X([]),this.breadcrumb$=this.breadcrumb.asObservable(),this.init()}get breadcrumbs$(){return this.breadcrumb$}ngOnDestroy(){this.$router.unsubscribe()}getEvent(){return this.breadcrumbEvent.asObservable()}setEvent(t){this.breadcrumbEvent.emit(t)}update(t){return this.createBreadcrumbs(t)}convertUrlToArray(t){const s=this.urlSize(t);return t.split(/[\/]/g).splice(1,s)}urlSize(t){return t.length-1}breadcrumbs(t){this.breadcrumb.next(t)}convertUrlSlugToPhrase(t){const s=this.convertUrlToArray(t).map(r=>r.replace(/[-]/g," "));return this.convertSlugEndTitle(s)}init(){this.$router=this.router.events.pipe((0,_.h)(t=>t instanceof c.m2)).subscribe({next:t=>this.start(t)})}start(t){t instanceof c.m2&&this.createBreadcrumbs(t.url)}convertSlugEndTitle(t){const s=t.map(this.filterSlug()).filter(r=>void 0!==r);return this.title(s)}title(t){return t.length>0&&t.includes("")&&t.pop(),t}filterSlug(){return(t,s)=>{if(s>-1){if(/[0-9]/g.test(t)){const r=t.split(" ").pop();t=t.replace(r,"").trim()}return t}}}createBreadcrumbs(t){const s=[];this.convertUrlSlugToPhrase(t).forEach((r,d)=>s.push({label:this.filterLabel(r),link:this.buildLink(t,d)})),s.splice(3,1),this.breadcrumbs(s)}filterLabel(t){switch(t){case"usuario":return"usu\xe1rio";case"usuarios":return"usu\xe1rios";case"anuncio":return"an\xfancio";case"inicio":return"In\xedcio";case"erro":return"Erro";default:return t}}buildLink(t,s){const r=t.split("/");switch(r.includes("")&&r.shift(),s){case 0:return`/${r[0]}`;case 1:case 2:return`/${r[0]}/${r[1]}/${r[2]}`;case 3:return t;default:return`/${this.convertUrlToArray(t)[s]}`}}}return l.\u0275fac=function(t){return new(t||l)(v.LFG(c.F0))},l.\u0275prov=v.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},677:(P,m,n)=>{n.d(m,{O:()=>i});var v=n(6895),c=n(5203),h=n(9267),_=n(4650);let i=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=_.oAB({type:l}),l.\u0275inj=_.cJS({imports:[v.ez,h.Pc,c.Bz]}),l})()},4111:(P,m,n)=>{n.d(m,{O:()=>r});var v=n(1135),c=n(8505),h=n(3755),_=n(4650),i=n(529),l=n(6578),u=n(6388),t=n(6895),s=n(1247);let r=(()=>{class d extends h.O{constructor(e,o,a,g,p){super(e,o),this.storageService=o,this.messageService=a,this.location=g,this.breadcrumbsService=p,this.announcement=new v.X(void 0),this.setApi="announcement"}get galery(){return this.announcement.value.galery}get announcementObservable(){return this.announcement.asObservable()}get getAnnouncement(){return this.announcement.value}set setAnnouncement(e){this.announcement.next(e)}set addItemGalery(e){var o;this.announcement.value.galery.unshift(e),this.setAnnouncement=null===(o=this.announcement)||void 0===o?void 0:o.value}set removeItemGalery(e){var o;const a=this.announcement.value.galery.findIndex(g=>g?.id===e?.id);this.announcement.value.galery.splice(a,1),this.setAnnouncement=null===(o=this.announcement)||void 0===o?void 0:o.value}set setGalery(e){var o;this.announcement.value.galery=e,this.setAnnouncement=null===(o=this.announcement)||void 0===o?void 0:o.value}set setBlockade(e){var o;this.announcement.value.blockade=e?.blockade,this.setAnnouncement=null===(o=this.announcement)||void 0===o?void 0:o.value}set setCategoryAnnouncement(e){var o;this.announcement.value.category=e?.category,this.announcement.value.categoryAnnouncement={id:e?.id},this.setAnnouncement=null===(o=this.announcement)||void 0===o?void 0:o.value}set setAnnouncementMessage(e){var o,a,g,p;const f=null===(a=null===(o=this.getAnnouncement)||void 0===o?void 0:o.messages)||void 0===a?void 0:a.length,O=this.getAnnouncement.messages.findIndex(M=>M?.id===e?.id);-1===O?f>0?null===(g=this.getAnnouncement)||void 0===g||g.messages.unshift(e):this.getAnnouncement.messages=[e]:null===(p=this.getAnnouncement)||void 0===p||p.messages.splice(O,1,e),this.setAnnouncement=this.getAnnouncement}set setTitleDescription(e){var o,a;this.announcement.value.title=e?.title,this.announcement.value.blockade=e?.blockade,this.announcement.value.description=e?.description,this.announcement.value.slug=e?.slug,null===(o=this.getAnnouncement)||void 0===o||o.messages.unshift(e.messages[0]),this.setAnnouncement=null===(a=this.announcement)||void 0===a?void 0:a.value,this.updateUrl(e)}updateAnnouncement(e){return this.patch(e).pipe((0,c.b)(o=>this.setTitleDescription=o))}blockade(e){return this.patch(e,"blockade").pipe((0,c.b)(o=>this.setBlockade=o))}updateUrl(e){const o=`/painel-de-controle/anuncio/${e?.slug}`;this.breadcrumbsService.setEvent(o),this.location.replaceState(o)}}return d.\u0275fac=function(e){return new(e||d)(_.LFG(i.eN),_.LFG(l.V),_.LFG(u.e),_.LFG(t.Ye),_.LFG(s.d))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},167:(P,m,n)=>{n.d(m,{u:()=>u});var v=n(8505),c=n(4650),h=n(3755),_=n(529),i=n(6578),l=n(4111);let u=(()=>{class t extends h.O{constructor(r,d,E){super(r,d),this.storageService=d,this.managementService=E,this.socialNetworkEvent=new c.vpe(void 0),this.setApi="socialNetwork"}get getSocialNetworkEvent(){return this.socialNetworkEvent.asObservable()}set setSocialNetwork(r){this.managementService.getAnnouncement.socialNetwork=r,this.managementService.setAnnouncement=this.managementService.getAnnouncement}socialNetwork(r){return r?.id?this.patch(r).pipe((0,v.b)(d=>this.setSocialNetwork=d)):this.create(r).pipe((0,v.b)(d=>this.setSocialNetwork=d))}delete(r){return this.destroy(r).pipe((0,v.b)(d=>this.setSocialNetwork=null))}}return t.\u0275fac=function(r){return new(r||t)(c.LFG(_.eN),c.LFG(i.V),c.LFG(l.O))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})()},5303:(P,m,n)=>{n.r(m),n.d(m,{PopupInstagramPageModule:()=>E});var v=n(6895),c=n(433),h=n(9267),_=n(5203),i=n(4650),l=n(167);const t=[{path:"",component:(()=>{class e{constructor(a,g,p){this.fb=a,this.route=g,this.socialNetworkAnnouncementService=p}ngOnDestroy(){this.$router.unsubscribe()}ngOnInit(){this.init()}init(){return this.$router=this.route.queryParams.subscribe({next:a=>{a?.code&&this.getDataInstagram(a?.code)}})}getDataInstagram(a){var g;this.form=this.fb.group({code:a.replace(/#_/,""),client_id:0x89a511fcbc86,client_secret:"31253a860ddaf6c282e832086052a7ed",grant_type:"authorization_code",redirect_uri:"https://192.168.1.15:8100/oauth/instagram/"}),this.socialNetworkAnnouncementService.create(null===(g=this.form)||void 0===g?void 0:g.value,"oauth/access_token").subscribe({next:f=>console.log(f),error:f=>console.log(f)})}}return e.\u0275fac=function(a){return new(a||e)(i.Y36(c.qu),i.Y36(_.gz),i.Y36(l.u))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-popup-instagram"]],decls:7,vars:1,consts:[[3,"fullscreen"],["fixed",""],[1,"content-center"],["name","bubbles"]],template:function(a,g){1&a&&(i.TgZ(0,"ion-content",0)(1,"ion-grid",1)(2,"div",2)(3,"ion-text")(4,"p"),i._uU(5,"Cadastrando instagram"),i.qZA()(),i._UZ(6,"ion-spinner",3),i.qZA()()()),2&a&&i.Q6J("fullscreen",!0)},dependencies:[h.W2,h.jY,h.PQ,h.yW]}),e})()}];let s=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[_.Bz.forChild(t),_.Bz]}),e})();var r=n(6444),d=n(677);let E=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[l.u],imports:[v.ez,c.u5,c.UX,h.Pc,s,d.O,r._]}),e})()},1395:(P,m,n)=>{n.d(m,{c:()=>_});var v=n(655),c=n(4650),h=n(9267);let _=(()=>{class i{constructor(u){this.alertController=u}alert(u,t){return(0,v.mG)(this,void 0,void 0,function*(){const s=yield this.alertController.create({header:u,message:t,buttons:["OK"]});return yield s.present(),s})}}return i.\u0275fac=function(u){return new(u||i)(c.LFG(h.Br))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},6388:(P,m,n)=>{n.d(m,{e:()=>l});var v=n(655),c=n(4650),h=n(9524),_=n(1395),i=n(3131);let l=(()=>{class u{constructor(s,r,d){this.toastService=s,this.alertService=r,this.helpsService=d}success(s,r,d,E=3e3){return(0,v.mG)(this,void 0,void 0,function*(){return this.disableLoadingUnsubscribeVariable(r,d),this.helpsService.delay(()=>(0,v.mG)(this,void 0,void 0,function*(){return yield this.toastService.show(s,"bottom","thumbs-up",2500)}),E)})}alert(s){return this.helpsService.delay(()=>this.alertService.alert("Aten\xe7\xe3o",s?.error),2e3)}disableLoadingUnsubscribeVariable(s,r){return(0,v.mG)(this,void 0,void 0,function*(){s&&r&&(this.helpsService.delay(()=>(0,v.mG)(this,void 0,void 0,function*(){return(yield s).dismiss()}),2e3),r.unsubscribe())})}error(s,r,d){return this.disableLoadingUnsubscribeVariable(r,d).then(),this.alert(s)}disable(s,r){return(0,v.mG)(this,void 0,void 0,function*(){return yield this.disableLoadingUnsubscribeVariable(s,r)})}}return u.\u0275fac=function(s){return new(s||u)(c.LFG(h.k),c.LFG(_.c),c.LFG(i.f))},u.\u0275prov=c.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},9524:(P,m,n)=>{n.d(m,{k:()=>_});var v=n(655),c=n(4650),h=n(9267);let _=(()=>{class i{constructor(u){this.toastController=u}show(u,t,s,r,d="light"){return(0,v.mG)(this,void 0,void 0,function*(){const E=yield this.toastController.create({message:u,icon:s,duration:r,position:t,color:d,buttons:[{side:"end",icon:"add-circle-outline",handler:()=>this.toastController.dismiss()}]});return E.present(),E})}loading(u,t,s){return(0,v.mG)(this,void 0,void 0,function*(){const r=yield this.toastController.create({message:u,position:t,color:"light",icon:s});return r.present(),r})}}return i.\u0275fac=function(u){return new(u||i)(c.LFG(h.yF))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);