{"version":3,"file":"src_app_pages_dashboard_auth_user_change-email_change-email_module_ts.js","mappings":"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","sources":["./src/app/pages/dashboard/auth/user/change-email/change-email-routing.module.ts","./src/app/pages/dashboard/auth/user/change-email/change-email.module.ts","./src/app/pages/dashboard/auth/user/change-email/change-email.page.ts","./src/app/pages/dashboard/auth/user/change-email/change-email.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChangeEmailPage } from './change-email.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangeEmailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChangeEmailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChangeEmailPageRoutingModule } from './change-email-routing.module';\n\nimport { ChangeEmailPage } from './change-email.page';\nimport { HeaderModule } from 'src/app/header/header.module';\nimport { FooterModule } from 'src/app/footer/footer.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ChangeEmailPageRoutingModule,\n    HeaderModule,\n    FooterModule,\n  ],\n  declarations: [ChangeEmailPage],\n})\nexport class ChangeEmailPageModule {}\n","import { Observable, Subject, EMPTY } from 'rxjs';\nimport { ActivatedRoute } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport { User } from 'src/app/interface';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { catchError, tap } from 'rxjs/operators';\nimport { AuthService } from 'src/app/services/auth/auth.service';\n\n@Component({\n  selector: 'app-change-email',\n  templateUrl: './change-email.page.html',\n  styleUrls: ['./change-email.page.scss'],\n})\nexport class ChangeEmailPage implements OnInit {\n  public location!: string[];\n  public error!: string;\n  public user$!: Observable<User>;\n  public error$ = new Subject<boolean>();\n  private user!: User;\n\n  constructor(\n    private authService: AuthService,\n    private activatedRoute: ActivatedRoute\n  ) {}\n\n  ngOnInit() {\n    this.getUser();\n    this.changeEmail();\n    this.getLocation();\n    this.filterUrl();\n  }\n\n  public getLocation(): void {\n    if (this.authService.getSlug) {\n      this.location = [\n        '/painel-de-controle',\n        'admin',\n        'usuario',\n        this.authService.getSlug,\n      ];\n    }\n  }\n\n  private filterUrl(): void {\n    if (this.authService.getLevel === '2') {\n      this.location.splice(1, 1);\n    }\n  }\n\n  private getUser(): void {\n    this.user = this.activatedRoute.snapshot.data['changeEmail'];\n  }\n\n  private changeEmail(): Observable<User> | void {\n    if (this.user) {\n      const { token, slug } = this.user;\n      return (this.user$ = this.authService\n        .emailIsValidToChange({ token, slug })\n        .pipe(\n          tap((user: User) => this.success(user)),\n          catchError((error: HttpErrorResponse) => this.setErrors(error))\n        ));\n    }\n  }\n\n  private success(user: User): void {\n    this.authService.setEmail = user;\n  }\n\n  private setErrors(error: HttpErrorResponse): Observable<never> {\n    this.error = error?.error;\n    this.error$.next(true);\n    return EMPTY;\n  }\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"ion-card-subtitle {\\n  display: flex;\\n  align-items: center;\\n  font-size: 100%;\\n}\\nion-card-subtitle ion-icon {\\n  margin-right: 10px;\\n  font-size: 160%;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/pages/dashboard/auth/user/change-email/change-email.page.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,aAAA;EACA,mBAAA;EACA,eAAA;AACJ;AAAI;EACE,kBAAA;EACA,eAAA;AAEN\",\"sourcesContent\":[\"ion-card-subtitle {\\n    display: flex;\\n    align-items: center;\\n    font-size: 100%;\\n    ion-icon {\\n      margin-right: 10px;\\n      font-size: 160%;\\n    }\\n  }\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","ChangeEmailPage","routes","path","component","ChangeEmailPageRoutingModule","imports","forChild","exports","CommonModule","FormsModule","IonicModule","HeaderModule","FooterModule","ChangeEmailPageModule","declarations","Subject","EMPTY","ActivatedRoute","Component","catchError","tap","AuthService","constructor","authService","activatedRoute","ngOnInit","getUser","changeEmail","getLocation","filterUrl","getSlug","location","getLevel","splice","user","snapshot","data","token","slug","user$","emailIsValidToChange","pipe","success","error","setErrors","setEmail","error$","next","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}