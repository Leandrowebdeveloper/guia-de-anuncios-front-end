"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6589],{6589:(Ze,T,a)=>{a.r(T),a.d(T,{AdminAnnouncementPageModule:()=>ve});var b=a(2119),l=a(6895),O=a(433),r=a(9267),w=a(3493),M=a(677),E=a(6444),u=a(4897),g=a(5203),e=a(4650),p=a(6388),J=a(7868),U=a(8447),N=a(9353),d=a(655),h=a(8505),_=a(262),A=a(7579),f=a(515),y=a(1395),S=a(8039),C=a(4759),I=a(5620),P=a(2339);function z(i,s){if(1&i&&(e.TgZ(0,"ion-col",7),e._UZ(1,"app-card-announcement-component",8),e.qZA()),2&i){const n=s.$implicit;e.xp6(1),e.Q6J("announcement",n)}}function Y(i,s){if(1&i&&(e.TgZ(0,"ion-row"),e.YNc(1,z,2,1,"ion-col",2),e.TgZ(2,"ion-col",3),e.ALo(3,"isAnnouncement"),e.TgZ(4,"div",4),e._UZ(5,"ion-icon",5),e.TgZ(6,"ion-text",6),e._uU(7," N\xe3o \xe1 item na lixeira. "),e.qZA()()()()),2&i){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.announcement),e.xp6(1),e.Q6J("hidden",e.lcZ(3,2,n.announcement))}}const B=function(i){return{hide:i}};function k(i,s){if(1&i){const n=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col",10)(2,"div",4)(3,"div")(4,"ion-text",11)(5,"p",12),e._uU(6,"Erro ao carregar an\xfancios."),e.qZA()(),e.TgZ(7,"ion-refresher",13),e.NdJ("ionRefresh",function(o){e.CHM(n);const c=e.oxw(2);return e.KtG(c.refresher(o))}),e._UZ(8,"ion-refresher-content",14),e.qZA(),e.TgZ(9,"ion-text",11)(10,"ion-button",15),e.NdJ("mousedown",function(){e.CHM(n);const o=e.oxw(2);return e.KtG(o.hideMenssage())}),e._uU(11,"Puxe para atualizar "),e._UZ(12,"ion-icon",16),e.qZA()()()()()()}if(2&i){const n=e.oxw(2);e.xp6(5),e.Q6J("ngClass",e.VKq(1,B,n.menssage))}}function Q(i,s){1&i&&e._UZ(0,"app-skeleton-announcement")}function D(i,s){if(1&i&&(e.YNc(0,k,13,3,"ion-row",0),e.ALo(1,"async"),e.YNc(2,Q,1,0,"ng-template",null,9,e.W1O)),2&i){const n=e.MAs(3),t=e.oxw();e.Q6J("ngIf",e.lcZ(1,2,t.error))("ngIfElse",n)}}let F=(()=>{class i{constructor(n,t,o,c){this.adminAnnouncementService=n,this.alertService=t,this.messageService=o,this.loadingService=c,this.error=new A.x,this.limit=12,this.offset=0}ngOnInit(){this.getAnnouncement()}togglePage(n){this.toggleListAnnouncement!==n&&(this.toggleListAnnouncement=n,this.getAnnouncement())}refresher(n){this.getAnnouncement(),n.target.complete()}hideMenssage(){this.menssage=!0}actionButton(n){const{action:t,index:o,announcement:c}=n;return"drop"===t?this.destroy(o,c):this.toRestore(o,c)}destroy(n,t){return(0,d.mG)(this,void 0,void 0,function*(){this.isDeleted=n,yield(yield this.alertService.alertController.create({header:"Aten\xe7\xe3o",message:"Este an\xfancio ser\xe1 enviado para a lixeira.",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{this.isDeleted=-1}},{text:"Ok",role:"confirm",handler:()=>this.drop(t,n)}]})).present()})}toRestore(n,t){return(0,d.mG)(this,void 0,void 0,function*(){this.isToRestore=n,yield(yield this.alertService.alertController.create({message:`Item <i>" ${t?.title} "</i> ser\xe1 restalrado.`,buttons:[{text:"Cancelar",role:"cancel",handler:()=>{this.isToRestore=-1}},{text:"Ok",role:"confirm",handler:()=>this.restore(t,n)}]})).present()})}restore(n,t){const o=this.loadingService.show("Restaurar an\xfancio...");return this.destroyAnnouncement=this.adminAnnouncementService.toRestore(n).subscribe({next:c=>this.success(t,c,o),error:c=>this.messageService.error(c,o,this.destroyAnnouncement)})}removeItem(n){setTimeout(()=>{this.isToRestore=-1,this.announcement.splice(n,1)},6e3)}getAnnouncement(){return this.announcement$=this.adminAnnouncementService.getAnnouncementAll("deleted",{limit:this.limit,offset:this.offset}).pipe((0,h.b)(n=>{this.isAnnouncement=n.length>0,this.announcement=n}),(0,_.K)(n=>(setTimeout(()=>this.menssage=!1,300),this.error.next(!0),f.E)))}drop(n,t){const o=this.loadingService.show("Enviando para lixeira...");this.destroyAnnouncement=this.adminAnnouncementService.drop(n).subscribe({next:c=>this.success(t,c,o),error:c=>this.messageService.error(c,o,this.destroyAnnouncement)})}success(n,t,o){this.removeItem(n),t?.message&&this.messageService.success(t?.message,o,this.destroyAnnouncement,2e3)}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(u.E),e.Y36(y.c),e.Y36(p.e),e.Y36(S.b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-deleted-item-admin-announcement-page"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["Loading",""],["size-xl","4","size-lg","4","size-md","6","size-sm","6","size","12",4,"ngFor","ngForOf"],["size","12",3,"hidden"],[1,"content-center"],["color","medium","name","trash-outline"],["color","medium"],["size-xl","4","size-lg","4","size-md","6","size-sm","6","size","12"],[3,"announcement"],["loadingNoError",""],["size","12"],[1,"ion-text-center"],[3,"ngClass"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Puxe para baixo","refreshingSpinner","circles","refreshingText","Atualizar..."],[3,"mousedown"],["name","arrow-down-circle",1,"ion-margin-start"]],template:function(n,t){if(1&n&&(e.YNc(0,Y,8,4,"ion-row",0),e.ALo(1,"async"),e.YNc(2,D,4,4,"ng-template",null,1,e.W1O)),2&n){const o=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,t.announcement$))("ngIfElse",o)}},dependencies:[l.mk,l.sg,l.O5,r.YG,r.wI,r.gu,r.nJ,r.Wo,r.Nd,r.yW,C._,I.r,l.Ov,P.Q],styles:[".content-center[_ngcontent-%COMP%]{font-size:1em}.content-center[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2.5em}"]}),i})();var $=a(4004),v=a(6916),L=a(1228),Z=a(9751);let q=(()=>{class i{constructor(n,t){this.searchAnnouncementService=n,this.popoverController=t}ngOnInit(){this.filter()}ngOnDestroy(){this.$isIcon.unsubscribe()}searchBy(n){this.searchAnnouncementService.setSearchBy=n}close(){return this.popoverController.dismiss()}filter(){this.$isIcon=this.searchAnnouncementService.getSearchBy.subscribe({next:n=>this.isIcon=n})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(v.d),e.Y36(r.Dh))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-announcement-search-menu"]],decls:41,vars:6,consts:[["color","primary"],["slot","start","name","search"],["button","","detail","false","lines","inset",3,"click"],["color","success","slot","end","name","checkmark-done",3,"hidden"],["slot","start","name","reorder-four"],["slot","start","name","calendar"],["button","","detail","false","lines","close",3,"click"],["slot","end","name","close"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-item-group")(1,"ion-item-divider",0)(2,"ion-label"),e._uU(3,"Pesquizar por"),e.qZA(),e._UZ(4,"ion-icon",1),e.qZA(),e.TgZ(5,"ion-item",2),e.NdJ("click",function(){return t.searchBy("title")}),e.TgZ(6,"ion-label"),e._uU(7,"T\xedtulo"),e.qZA(),e._UZ(8,"ion-icon",3),e.qZA(),e.TgZ(9,"ion-item-divider",0)(10,"ion-label"),e._uU(11,"Ordenar por"),e.qZA(),e._UZ(12,"ion-icon",4),e.qZA(),e.TgZ(13,"ion-item",2),e.NdJ("click",function(){return t.searchBy("title")}),e.TgZ(14,"ion-label"),e._uU(15,"T\xedtilo"),e.qZA(),e._UZ(16,"ion-icon",3),e.qZA(),e.TgZ(17,"ion-item",2),e.NdJ("click",function(){return t.searchBy("state")}),e.TgZ(18,"ion-label"),e._uU(19,"Status"),e.qZA(),e._UZ(20,"ion-icon",3),e.qZA(),e.TgZ(21,"ion-item",2),e.NdJ("click",function(){return t.searchBy("blockade")}),e.TgZ(22,"ion-label"),e._uU(23,"Bloqueados"),e.qZA(),e._UZ(24,"ion-icon",3),e.qZA(),e.TgZ(25,"ion-item-divider")(26,"ion-label"),e._uU(27,"Data"),e.qZA(),e._UZ(28,"ion-icon",5),e.qZA(),e.TgZ(29,"ion-item",2),e.NdJ("click",function(){return t.searchBy("createdAt")}),e.TgZ(30,"ion-label"),e._uU(31,"Registros"),e.qZA(),e._UZ(32,"ion-icon",3),e.qZA(),e.TgZ(33,"ion-item",2),e.NdJ("click",function(){return t.searchBy("updatedAt")}),e.TgZ(34,"ion-label"),e._uU(35,"Atualiza\xe7\xf5es"),e.qZA(),e._UZ(36,"ion-icon",3),e.qZA(),e.TgZ(37,"ion-item",6),e.NdJ("click",function(){return t.close()}),e.TgZ(38,"ion-label"),e._uU(39,"fechar"),e.qZA(),e._UZ(40,"ion-icon",7),e.qZA()()),2&n&&(e.xp6(8),e.Q6J("hidden","title"!==t.isIcon),e.xp6(8),e.Q6J("hidden","title"!==t.isIcon),e.xp6(4),e.Q6J("hidden","state"!==t.isIcon),e.xp6(4),e.Q6J("hidden","blockade"!==t.isIcon),e.xp6(8),e.Q6J("hidden","createdAt"!==t.isIcon),e.xp6(4),e.Q6J("hidden","updatedAt"!==t.isIcon))},dependencies:[r.gu,r.Ie,r.rH,r.Ub,r.Q$]}),i})();var R=a(2129);function G(i,s){if(1&i&&(e.TgZ(0,"span")(1,"small"),e._uU(2),e.qZA()()),2&i){const n=e.oxw();e.xp6(2),e.hij("",n.filterLabel," ")}}function W(i,s){1&i&&(e.TgZ(0,"small"),e._uU(1,"Pesquizar por nome"),e.qZA())}function K(i,s){if(1&i){const n=e.EpF();e.TgZ(0,"ion-searchbar",10,11),e.NdJ("ionChange",function(o){e.CHM(n);const c=e.oxw();return e.KtG(c.research(o))}),e.qZA()}if(2&i){const n=s.$implicit,t=e.oxw();e.Q6J("color",n.isDark?"medium":"none")("placeholder",t.placeholder)}}function j(i,s){if(1&i){const n=e.EpF();e.TgZ(0,"ion-item",17),e.NdJ("click",function(){const c=e.CHM(n).$implicit,m=e.oxw(3);return e.KtG(m.sendUrl(c))}),e.TgZ(1,"ion-thumbnail",18),e._UZ(2,"img",19),e.qZA(),e.TgZ(3,"ion-label"),e._uU(4),e.qZA()()}if(2&i){const n=s.$implicit;e.Q6J("lines",s.last?"none":"full"),e.xp6(2),e.Q6J("src",(null==n||null==n.image?null:n.image.url)||"./../../../assets/thumbnail.svg",e.LSH),e.xp6(2),e.hij("",null==n?null:n.title," ")}}function H(i,s){if(1&i&&(e.TgZ(0,"ion-list",15),e.YNc(1,j,5,3,"ion-item",16),e.qZA()),2&i){const n=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",n)}}function V(i,s){1&i&&(e.TgZ(0,"ion-list",15)(1,"ion-item",20)(2,"ion-label"),e._uU(3,"N\xe3o encontrado "),e.qZA()()())}const X=function(i){return{show:i}};function ee(i,s){if(1&i&&(e.TgZ(0,"div",12),e.YNc(1,H,2,1,"ion-list",13),e.YNc(2,V,4,0,"ng-template",null,14,e.W1O),e.qZA()),2&i){const n=s.ngIf,t=e.MAs(3),o=e.oxw();e.Q6J("ngClass",e.VKq(3,X,o.show)),e.xp6(1),e.Q6J("ngIf",n.length>0)("ngIfElse",t)}}let ne=(()=>{class i{constructor(n,t,o,c,m){this.navCtrl=n,this.router=t,this.searchAnnouncementService=o,this.popoverController=c,this.moduleDarkService=m,this.search=new e.vpe,this.search$=new Z.y,this.triggerSearch$=new Z.y(void 0),this.error$=new A.x,this.placeholder="Digite nome",this.dark$=new Z.y}ngOnInit(){this.searchList(),this.setFilterLabelAndPlaceholder(),this.getDark()}getDark(){this.dark$=this.moduleDarkService.darkAsObservable()}research(n){var t,o;return 0===(null===(o=null===(t=n.target)||void 0===t?void 0:t.value)||void 0===o?void 0:o.length)&&(this.show=!1),this.search.emit(n)}sendUrl(n){const t=this.router.url.split("/");return this.navCtrl.navigateForward([t[1],"anuncio",n?.slug])}menuShow(n){return(0,d.mG)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:q,event:n,translucent:!0});yield t.present(),yield t.onDidDismiss()})}searchList(){return this.search$=this.searchAnnouncementService.search.pipe((0,h.b)(n=>{n.length>=0&&(this.show=!0)}),(0,_.K)(n=>(this.error$.next(!0),f.E)))}setFilterLabelAndPlaceholder(){let n=0;this.triggerSearch$=this.searchAnnouncementService.getSearchBy.pipe((0,h.b)(t=>{this.placeholder="Digite t\xedtulo",this.filterLabel="Pesquizar por t\xedtulo",n>0&&(this.popoverController.dismiss(),n++)}))}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(r.SH),e.Y36(g.F0),e.Y36(v.d),e.Y36(r.Dh),e.Y36(R.l))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-announcement-search-component"]],outputs:{search:"search"},decls:17,vars:10,consts:[["size","12"],[1,"dropdown"],["color","medium",1,"ion-margin-start"],[4,"ngIf","ngIfElse"],["Default",""],[1,"search"],["showClearButton","focus","inputmode","search","animated","",3,"color","placeholder","ionChange",4,"ngIf"],["size","small","color","none","title","Filtro da pesquiza",3,"click"],["name","filter"],["class","dropdown-content",3,"ngClass",4,"ngIf"],["showClearButton","focus","inputmode","search","animated","",3,"color","placeholder","ionChange"],["searchbar",""],[1,"dropdown-content",3,"ngClass"],["class","list list-lg list-md list-sm list-xl",4,"ngIf","ngIfElse"],["Else",""],[1,"list","list-lg","list-md","list-sm","list-xl"],["button","","detail","",3,"lines","click",4,"ngFor","ngForOf"],["button","","detail","",3,"lines","click"],["slot","start"],["alt","Imagem do an\xfancio",3,"src"],["lines","none"]],template:function(n,t){if(1&n&&(e.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",0)(3,"div",1)(4,"ion-text",2),e.YNc(5,G,3,1,"span",3),e.ALo(6,"async"),e.YNc(7,W,2,0,"ng-template",null,4,e.W1O),e.qZA(),e.TgZ(9,"div",5),e.YNc(10,K,2,2,"ion-searchbar",6),e.ALo(11,"async"),e.TgZ(12,"div")(13,"ion-fab-button",7),e.NdJ("click",function(c){return t.menuShow(c)}),e._UZ(14,"ion-icon",8),e.qZA()()(),e.YNc(15,ee,4,5,"div",9),e.ALo(16,"async"),e.qZA()()()()),2&n){const o=e.MAs(8);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,4,t.triggerSearch$))("ngIfElse",o),e.xp6(5),e.Q6J("ngIf",e.lcZ(11,6,t.dark$)),e.xp6(5),e.Q6J("ngIf",e.lcZ(16,8,t.search$))}},dependencies:[l.mk,l.sg,l.O5,r.wI,r.W4,r.jY,r.gu,r.Ie,r.Q$,r.q_,r.Nd,r.VI,r.yW,r.Bs,r.j9,l.Ov],styles:['.search[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.dropdown[_ngcontent-%COMP%]{position:relative;display:block}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#f6f6f6;width:98.4%;margin-top:-7px;left:8px;overflow:auto;border:1px solid #ddd;z-index:999}.show[_ngcontent-%COMP%]{display:block}.list[_ngcontent-%COMP%], .list-lg[_ngcontent-%COMP%], .list-md[_ngcontent-%COMP%], .list-sm[_ngcontent-%COMP%], .list-xl[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}span[_ngcontent-%COMP%]{position:relative}span[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{background-color:var(--ion-color-medium);color:var(--ion-color-danger-contrast);padding:4px;border-radius:4px;font-size:xx-small;font-weight:700}span[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-12px;left:9px;margin-left:-5px;border-width:5px;border-style:solid;border-color:var(--ion-color-medium) transparent transparent transparent}ion-thumbnail[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:auto}']}),i})();function te(i,s){if(1&i){const n=e.EpF();e.TgZ(0,"app-announcement-search-component",9),e.NdJ("search",function(o){e.CHM(n);const c=e.oxw(2);return e.KtG(c.search(o))}),e.qZA()}}function oe(i,s){if(1&i&&(e.TgZ(0,"ion-col",10),e._UZ(1,"app-card-announcement-component",11),e.qZA()),2&i){const n=s.$implicit;e.xp6(1),e.Q6J("announcement",n)}}function ie(i,s){if(1&i&&(e.TgZ(0,"ion-row")(1,"ion-col",2),e.YNc(2,te,1,0,"app-announcement-search-component",3),e.ALo(3,"isAnnouncement"),e.qZA(),e.YNc(4,oe,2,1,"ion-col",4),e.TgZ(5,"ion-col",5),e.ALo(6,"isAnnouncement"),e.TgZ(7,"div",6),e._UZ(8,"ion-icon",7),e.TgZ(9,"ion-text",8),e._uU(10," N\xe3o \xe1 an\xfancio cadastrado. "),e.qZA()()()()),2&i){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",e.xi3(3,3,n.announcement,1)),e.xp6(2),e.Q6J("ngForOf",n.announcement),e.xp6(1),e.Q6J("hidden",e.lcZ(6,6,n.announcement)||!n.isAdmin)}}const se=function(i){return{hide:i}};function re(i,s){if(1&i){const n=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col",13)(2,"div",6)(3,"div")(4,"ion-text",14)(5,"p",15),e._uU(6,"Erro ao carregar an\xfancios."),e.qZA()(),e.TgZ(7,"ion-refresher",16),e.NdJ("ionRefresh",function(o){e.CHM(n);const c=e.oxw(2);return e.KtG(c.refresher(o))}),e._UZ(8,"ion-refresher-content",17),e.qZA(),e.TgZ(9,"ion-text",14)(10,"ion-button",18),e.NdJ("mousedown",function(){e.CHM(n);const o=e.oxw(2);return e.KtG(o.hideMenssage())}),e._uU(11,"Puxe para atualizar "),e._UZ(12,"ion-icon",19),e.qZA()()()()()()}if(2&i){const n=e.oxw(2);e.xp6(5),e.Q6J("ngClass",e.VKq(1,se,n.menssage))}}function ce(i,s){1&i&&e._UZ(0,"app-skeleton-announcement")}function ae(i,s){if(1&i&&(e.YNc(0,re,13,3,"ion-row",0),e.ALo(1,"async"),e.YNc(2,ce,1,0,"ng-template",null,12,e.W1O)),2&i){const n=e.MAs(3),t=e.oxw();e.Q6J("ngIf",e.lcZ(1,2,t.error))("ngIfElse",n)}}let le=(()=>{class i{constructor(n,t,o,c,m,x){this.adminAnnouncementService=n,this.searchAnnouncementService=t,this.authService=o,this.alertService=c,this.messageService=m,this.loadingService=x,this.error=new A.x,this.limit=12,this.offset=0}get getSearchBy(){return this.searchBy}set setSearchBy(n){const t=JSON.parse(`{ "${n}":"null" }`);this.searchBy=t}ngOnInit(){this.getAnnouncement(),this.setButtonCreate(),this.initSearchBy()}ngOnDestroy(){this.$searchBy.unsubscribe()}refresher(n){this.getAnnouncement(),n.target.complete()}hideMenssage(){this.menssage=!0}actionButton(n){const{action:t,index:o,announcement:c}=n;if("destroy"===t)return this.destroy(o,c)}search(n){var t,o,c;if(null!==(t=n?.target)&&void 0!==t&&t.value&&(null===(o=n?.target)||void 0===o?void 0:o.value.length)>=3){const m=this.setDataSearch(null===(c=n?.target)||void 0===c?void 0:c.value);return this.$search=this.adminAnnouncementService.searchBy(m).subscribe({next:x=>{this.searchAnnouncementService.search=x,setTimeout(()=>this.$search.unsubscribe(),2e3)}})}}destroy(n,t){return(0,d.mG)(this,void 0,void 0,function*(){this.isDeleted=n,yield(yield this.alertService.alertController.create({header:"Aten\xe7\xe3o",message:"Este an\xfancio ser\xe1 enviado para a lixeira.",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{this.isDeleted=-1}},{text:"Ok",role:"confirm",handler:()=>this.deleted(t,n)}]})).present()})}removeItem(n){setTimeout(()=>{this.isDeleted=-1,this.announcement.splice(n,1)},6e3)}getAnnouncement(){return this.announcement$=this.adminAnnouncementService.getAnnouncementAll("",{limit:this.limit,offset:this.offset}).pipe((0,h.b)(n=>{this.announcement=n}),(0,$.U)(n=>n.map(t=>{var o;return t.category=Object.assign({},null===(o=t?.categoryAnnouncement)||void 0===o?void 0:o.category),null==t||delete t.categoryAnnouncement,t})),(0,_.K)(n=>(setTimeout(()=>this.menssage=!1,300),this.error.next(!0),f.E)))}deleted(n,t){const o=this.loadingService.show("Enviando para lixeira...");this.destroyAnnouncement=this.adminAnnouncementService.delete(n).subscribe({next:c=>this.success(t,c,o),error:c=>this.messageService.error(c,o,this.destroyAnnouncement)})}success(n,t,o){this.removeItem(n),this.message(t,o)}message(n,t){n?.message&&this.messageService.success(n.message,t,this.destroyAnnouncement,2e3)}setButtonCreate(){this.isAdmin="1"===this.authService.getLevel}orderBy(n){if(this.announcement)switch(n){case"title":this.announcement.sort((t,o)=>{if(t?.title&&o?.title)return t?.title<o?.title&&-1});break;case"createdAt":this.announcement.sort((t,o)=>{if(t?.createdAt&&o?.createdAt)return t?.createdAt>o?.createdAt&&-1});break;case"updatedAt":this.announcement.sort((t,o)=>{if(t?.updatedAt&&o?.updatedAt)return t?.updatedAt>o?.updatedAt&&-1});break;case"state":this.announcement.sort((t,o)=>{if(t?.state&&o?.state)return t?.state>o?.state&&-1});break;case"blockade":this.announcement.sort((t,o)=>{if(t?.blockade&&o?.blockade)return t?.blockade>o?.blockade&&-1})}}initSearchBy(){this.$searchBy=this.searchAnnouncementService.getSearchBy.subscribe({next:n=>{"title"===n&&(this.setSearchBy=n,this.setSearchBy="title"),n&&this.orderBy(n)}})}setDataSearch(n){let t;return this.getSearchBy?(this.searchBuild(n),t=this.getSearchBy):t={firstName:n},t}searchBuild(n){const t=Object.keys(this.getSearchBy)[0];this.getSearchBy[t]=n}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(u.E),e.Y36(v.d),e.Y36(L.e),e.Y36(y.c),e.Y36(p.e),e.Y36(S.b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-enabled-item-admin-announcement-page"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["Loading",""],["size","12",1,"ion-no-padding"],[3,"search",4,"ngIf"],["size-xl","6","size-lg","6","size-md","12","size-sm","12","size","12",4,"ngFor","ngForOf"],["size","12",3,"hidden"],[1,"content-center"],["color","medium","name","megaphone"],["color","medium"],[3,"search"],["size-xl","6","size-lg","6","size-md","12","size-sm","12","size","12"],[3,"announcement"],["loadingNoError",""],["size","12"],[1,"ion-text-center"],[3,"ngClass"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Puxe para baixo","refreshingSpinner","circles","refreshingText","Atualizar..."],[3,"mousedown"],["name","arrow-down-circle",1,"ion-margin-start"]],template:function(n,t){if(1&n&&(e.YNc(0,ie,11,8,"ion-row",0),e.ALo(1,"async"),e.YNc(2,ae,4,4,"ng-template",null,1,e.W1O)),2&n){const o=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,t.announcement$))("ngIfElse",o)}},dependencies:[l.mk,l.sg,l.O5,r.YG,r.wI,r.gu,r.nJ,r.Wo,r.Nd,r.yW,C._,I.r,ne,l.Ov,P.Q],styles:[".content-center[_ngcontent-%COMP%]{font-size:1em}.content-center[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2.5em}"]}),i})();function me(i,s){1&i&&(e.ynx(0),e._UZ(1,"app-enabled-item-admin-announcement-page"),e.BQk())}function ue(i,s){1&i&&e._UZ(0,"app-deleted-item-admin-announcement-page")}const de=function(i){return{show:i}},he=[{path:"",component:(()=>{class i{constructor(n,t){this.adminAnnouncementService=n,this.messageService=t,this.isOrder=!1,this.fab=!1}orderList(){this.isOrder=!this.isOrder,this.sendOrder=!this.sendOrder}isSaveOrder(n){n||(this.isOrder=n),this.sendOrder=n}saveOrder(){this.adminAnnouncementService.saveSorting.emit(!0)}togglePage(n){this.toggleList=n}logScrolling(n){this.fab=n.detail.scrollTop>500}toTop(){return this.content.scrollToTop(1e3)}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(u.E),e.Y36(p.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-announcement"]],viewQuery:function(n,t){if(1&n&&e.Gf(r.W2,7),2&n){let o;e.iGM(o=e.CRH())&&(t.content=o.first)}},decls:13,vars:7,consts:[[3,"scrollEvents","scrollY","ionScroll"],["fixed",""],["size","12"],[3,"togglePage"],[4,"ngIf","ngIfElse"],["ItemDeleted",""],["vertical","bottom","horizontal","end","slot","fixed"],["size","small","color","primary",1,"fab",3,"ngClass","click"],["name","arrow-up-circle","color","light"]],template:function(n,t){if(1&n&&(e._UZ(0,"app-header-component"),e.TgZ(1,"ion-content",0),e.NdJ("ionScroll",function(c){return t.logScrolling(c)}),e.TgZ(2,"ion-grid",1)(3,"ion-row")(4,"ion-col",2)(5,"app-segment-announcement-component",3),e.NdJ("togglePage",function(c){return t.togglePage(c)}),e.qZA(),e.YNc(6,me,2,0,"ng-container",4),e.YNc(7,ue,1,0,"ng-template",null,5,e.W1O),e.qZA()()(),e.TgZ(9,"ion-fab",6)(10,"ion-fab-button",7),e.NdJ("click",function(){return t.toTop()}),e._UZ(11,"ion-icon",8),e.qZA()()(),e._UZ(12,"app-footer")),2&n){const o=e.MAs(8);e.xp6(1),e.Q6J("scrollEvents",!0)("scrollY",!0),e.xp6(5),e.Q6J("ngIf",t.toggleList)("ngIfElse",o),e.xp6(4),e.Q6J("ngClass",e.VKq(5,de,t.fab))}},dependencies:[l.mk,l.O5,r.wI,r.W2,r.IJ,r.W4,r.jY,r.gu,r.Nd,J.G,U.S,N.A,F,le],styles:[".fab[_ngcontent-%COMP%]{opacity:0;transition:var(--transition)}.show[_ngcontent-%COMP%]{opacity:1}"]}),i})()}];let ge=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.Bz.forChild(he),g.Bz]}),i})();var pe=a(6469),_e=a(6819),Ae=a(8660),fe=a(1562);let ve=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[u.E,_e.q,Ae.j],imports:[l.ez,O.u5,r.Pc,ge,w.d,M.O,E._,pe.O,b.h,fe.x]}),i})()}}]);