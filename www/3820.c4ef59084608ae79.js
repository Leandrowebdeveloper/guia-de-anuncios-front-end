"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3820],{3820:(J,y,l)=>{l.r(y),l.d(y,{CategoryAnnouncementPageModule:()=>Ae});var _=l(655),e=l(4650),u=l(3131),r=l(9267),d=l(889),p=l(6388),m=l(8039),x=l(2077),f=l(8404);let U=(()=>{class i{constructor(t,n,o,s,c){this.helpService=t,this.modalController=n,this.categoryService=o,this.messageService=s,this.loadingService=c,this.attrButton={route:"/category",icon:"create",label:"Cadastrar",fill:!1,aria:"Cadastrar categoria.",title:"Cadastrar categoria."}}ngOnInit(){this.getData()}importForm(t){return this.form=t}onSubmit(t){return this.register(t)}register(t){const n=this.loadingService.show("Cadastrar categoria...");return this.write=this.categoryService.register(t.value).subscribe({next:o=>this.messsage(o,n),error:o=>this.messageService.error(o,n,this.write)})}messsage(t,n){return this.helpService.delay(()=>this.modalController.dismiss(),2500),this.messageService.success(t?.message,n,this.write)}getData(){this.config=Object.assign({},this.category)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.f),e.Y36(r.IN),e.Y36(d.A),e.Y36(p.e),e.Y36(m.b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],inputs:{category:"category",action:"action",label:"label"},decls:4,vars:4,consts:[[3,"label"],[3,"fullscreen"],["fixed",""],[3,"inputConfig","attrButton","submitDataForm","exportForm"]],template:function(t,n){1&t&&(e._UZ(0,"app-header-component-modal",0),e.TgZ(1,"ion-content",1)(2,"ion-grid",2)(3,"app-form",3),e.NdJ("submitDataForm",function(s){return n.onSubmit(s)})("exportForm",function(s){return n.importForm(s)}),e.qZA()()()),2&t&&(e.Q6J("label",n.label),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("inputConfig",n.config)("attrButton",n.attrButton))},dependencies:[r.W2,r.jY,x.U,f.s]}),i})();var k=l(1228),g=l(6895);function N(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-content")(2,"ion-text",1)(3,"p",2),e._uU(4,"N\xe3o a categoria cadastrada"),e.qZA(),e.TgZ(5,"ion-button",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.register())}),e._UZ(6,"ion-icon",4),e._uU(7," \xa0 Cadastrar categorias "),e.qZA()()()()}}let b=(()=>{class i{constructor(t,n){this.authService=t,this.modalController=n}register(){return(0,_.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:U,componentProps:{action:"register",label:"Cadastrar categoria",category:{name:null,description:null,_csrf:this.authService.getCsrf}}})).present()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(k.e),e.Y36(r.IN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-category-announcement-create-component"]],inputs:{category:"category"},decls:1,vars:1,consts:[[4,"ngIf"],["color","primary",1,"ion-text-center"],[2,"font-size","1.5em"],["expand","block",3,"click"],["slot","icon-only","name","add"]],template:function(t,n){1&t&&e.YNc(0,N,8,0,"ion-card",0),2&t&&e.Q6J("ngIf",0===(null==n.category?null:n.category.length))},dependencies:[g.O5,r.YG,r.PM,r.FN,r.gu,r.yW]}),i})();var B=l(310),F=l(433),Q=l(2263),Y=l(677),$=l(6444),q=l(5447),C=l(5203),Z=l(7150),z=l(7868),D=l(67);let L=(()=>{class i{constructor(){this.togglePage=new e.vpe(!0)}ngOnDestroy(){this.segmentIonChange.unsubscribe()}ngOnInit(){this.init(),this.toggleSegment()}toggleSegment(){return this.segmentIonChange=this.segment.ionChange.subscribe({next:t=>{var n;const o="enabled"===(null===(n=t?.detail)||void 0===n?void 0:n.value);this.togglePage.emit(o)}})}init(){return this.togglePage.emit(!0)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-category-segment-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(r.cJ,7),2&t){let o;e.iGM(o=e.CRH())&&(n.segment=o.first)}},outputs:{togglePage:"togglePage"},decls:9,vars:0,consts:[["color","dark","value","enabled"],["title","Usu\xe1rios abilitados","value","enabled"],["name","checkmark-done"],["title","Usu\xe1rios excluidas","value","deleted"],["name","trash"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-segment",0)(1,"ion-segment-button",1),e._UZ(2,"ion-icon",2),e.TgZ(3,"ion-label"),e._uU(4,"Abilitados"),e.qZA()(),e.TgZ(5,"ion-segment-button",3),e._UZ(6,"ion-icon",4),e.TgZ(7,"ion-label"),e._uU(8,"Excluidos"),e.qZA()()())},dependencies:[r.gu,r.Q$,r.cJ,r.GO,r.QI]}),i})();var O=l(7579),T=l(515),S=l(8505),A=l(9344),M=l(262),v=l(7446),G=l(9751);let R=(()=>{class i{constructor(t,n){this.searchCategoryAnnouncementService=t,this.popoverController=n}ngOnInit(){this.filter()}ngOnDestroy(){this.$isIcon.unsubscribe()}searchBy(t){this.searchCategoryAnnouncementService.setSearchCategoryBy=t}close(){return this.popoverController.dismiss()}filter(){this.$isIcon=this.searchCategoryAnnouncementService.getSearchCategoryBy.subscribe({next:t=>this.isIcon=t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.b),e.Y36(r.Dh))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-search-menu-category-component"]],decls:41,vars:6,consts:[["color","primary"],["slot","start","name","search"],["button","","detail","false","lines","inset",3,"click"],["color","success","slot","end","name","checkmark-done",3,"hidden"],["slot","start","name","reorder-four"],["slot","start","name","calendar"],["button","","detail","false","lines","close",3,"click"],["slot","end","name","close"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-item-group")(1,"ion-item-divider",0)(2,"ion-label"),e._uU(3,"Pesquizar por"),e.qZA(),e._UZ(4,"ion-icon",1),e.qZA(),e.TgZ(5,"ion-item",2),e.NdJ("click",function(){return n.searchBy("name")}),e.TgZ(6,"ion-label"),e._uU(7,"Nome"),e.qZA(),e._UZ(8,"ion-icon",3),e.qZA(),e.TgZ(9,"ion-item-divider",0)(10,"ion-label"),e._uU(11,"Ordenar por"),e.qZA(),e._UZ(12,"ion-icon",4),e.qZA(),e.TgZ(13,"ion-item",2),e.NdJ("click",function(){return n.searchBy("name")}),e.TgZ(14,"ion-label"),e._uU(15,"Nome"),e.qZA(),e._UZ(16,"ion-icon",3),e.qZA(),e.TgZ(17,"ion-item",2),e.NdJ("click",function(){return n.searchBy("state")}),e.TgZ(18,"ion-label"),e._uU(19,"Status"),e.qZA(),e._UZ(20,"ion-icon",3),e.qZA(),e.TgZ(21,"ion-item",2),e.NdJ("click",function(){return n.searchBy("position")}),e.TgZ(22,"ion-label"),e._uU(23,"Posi\xe7\xe3o"),e.qZA(),e._UZ(24,"ion-icon",3),e.qZA(),e.TgZ(25,"ion-item-divider")(26,"ion-label"),e._uU(27,"Data"),e.qZA(),e._UZ(28,"ion-icon",5),e.qZA(),e.TgZ(29,"ion-item",2),e.NdJ("click",function(){return n.searchBy("createdAt")}),e.TgZ(30,"ion-label"),e._uU(31,"Registros"),e.qZA(),e._UZ(32,"ion-icon",3),e.qZA(),e.TgZ(33,"ion-item",2),e.NdJ("click",function(){return n.searchBy("updatedAt")}),e.TgZ(34,"ion-label"),e._uU(35,"Atualiza\xe7\xf5es"),e.qZA(),e._UZ(36,"ion-icon",3),e.qZA(),e.TgZ(37,"ion-item",6),e.NdJ("click",function(){return n.close()}),e.TgZ(38,"ion-label"),e._uU(39,"fechar"),e.qZA(),e._UZ(40,"ion-icon",7),e.qZA()()),2&t&&(e.xp6(8),e.Q6J("hidden","name"!==n.isIcon),e.xp6(8),e.Q6J("hidden","name"!==n.isIcon),e.xp6(4),e.Q6J("hidden","state"!==n.isIcon),e.xp6(4),e.Q6J("hidden","position"!==n.isIcon),e.xp6(8),e.Q6J("hidden","createdAt"!==n.isIcon),e.xp6(4),e.Q6J("hidden","updatedAt"!==n.isIcon))},dependencies:[r.gu,r.Ie,r.rH,r.Ub,r.Q$]}),i})();function W(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",13),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.sendUrl(s))}),e.TgZ(1,"ion-thumbnail",14),e._UZ(2,"img",15),e.qZA(),e.TgZ(3,"ion-label"),e._uU(4),e.qZA()()}if(2&i){const t=a.$implicit;e.Q6J("lines",a.last?"none":"full"),e.xp6(2),e.Q6J("src",(null==t||null==t.image?null:t.image.url)||"./../../../assets/thumbnail.svg",e.LSH),e.xp6(2),e.hij("",null==t?null:t.name," ")}}function H(i,a){if(1&i&&(e.TgZ(0,"ion-list",11),e.YNc(1,W,5,3,"ion-item",12),e.qZA()),2&i){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function K(i,a){1&i&&(e.TgZ(0,"ion-list",11)(1,"ion-item",16)(2,"ion-label"),e._uU(3,"N\xe3o encontrado "),e.qZA()()())}const j=function(i){return{show:i}};function X(i,a){if(1&i&&(e.TgZ(0,"div",8),e.YNc(1,H,2,1,"ion-list",9),e.YNc(2,K,4,0,"ng-template",null,10,e.W1O),e.qZA()),2&i){const t=a.ngIf,n=e.MAs(3),o=e.oxw();e.Q6J("ngClass",e.VKq(3,j,o.show)),e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",n)}}let P=(()=>{class i{constructor(t,n,o,s){this.navCtrl=t,this.router=n,this.searchCategoryAnnouncementService=o,this.popoverController=s,this.search=new e.vpe,this.search$=new G.y,this.error$=new O.x,this.placeholder="Digite nome"}ngOnInit(){this.searchList()}research(t){var n,o;return 0===(null===(o=null===(n=t.target)||void 0===n?void 0:n.value)||void 0===o?void 0:o.length)&&(this.show=!1),this.search.emit(t)}sendUrl(t){const n=this.router.url.split("/");if(n.includes("categorias"))return this.navCtrl.navigateForward([n[1],"admin","categoria",t?.slug])}menuShow(t){return(0,_.mG)(this,void 0,void 0,function*(){const n=yield this.popoverController.create({component:R,event:t,translucent:!0});yield n.present(),yield n.onDidDismiss()})}searchList(){return this.search$=this.searchCategoryAnnouncementService.search.pipe((0,S.b)(t=>{t.length>=0&&(this.show=!0)}),(0,M.K)(t=>(this.error$.next(!0),T.E)))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.SH),e.Y36(C.F0),e.Y36(v.b),e.Y36(r.Dh))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-search-category-component"]],outputs:{search:"search"},decls:12,vars:4,consts:[["size","12"],[1,"dropdown"],[1,"search"],["showClearButton","focus","inputmode","search","animated","",3,"placeholder","ionChange"],["searchbar",""],["size","small","color","none","title","Filtro da pesquiza",3,"click"],["name","filter"],["class","dropdown-content",3,"ngClass",4,"ngIf"],[1,"dropdown-content",3,"ngClass"],["class","list list-lg list-md list-sm list-xl",4,"ngIf","ngIfElse"],["Else",""],[1,"list","list-lg","list-md","list-sm","list-xl"],["button","","detail","",3,"lines","click",4,"ngFor","ngForOf"],["button","","detail","",3,"lines","click"],["slot","start"],[3,"src"],["lines","none"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",0)(3,"div",1)(4,"div",2)(5,"ion-searchbar",3,4),e.NdJ("ionChange",function(s){return n.research(s)}),e.qZA(),e.TgZ(7,"div")(8,"ion-fab-button",5),e.NdJ("click",function(s){return n.menuShow(s)}),e._UZ(9,"ion-icon",6),e.qZA()()(),e.YNc(10,X,4,5,"div",7),e.ALo(11,"async"),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("placeholder",n.placeholder),e.xp6(5),e.Q6J("ngIf",e.lcZ(11,2,n.search$)))},dependencies:[g.mk,g.sg,g.O5,r.wI,r.W4,r.jY,r.gu,r.Ie,r.Q$,r.q_,r.Nd,r.VI,r.Bs,r.j9,g.Ov],styles:[".search[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.dropdown[_ngcontent-%COMP%]{position:relative;display:block}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#f6f6f6;width:98.4%;margin-top:-7px;left:8px;overflow:auto;border:1px solid #ddd;z-index:99999}.show[_ngcontent-%COMP%]{display:block}.list[_ngcontent-%COMP%], .list-lg[_ngcontent-%COMP%], .list-md[_ngcontent-%COMP%], .list-sm[_ngcontent-%COMP%], .list-xl[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}ion-thumbnail[_ngcontent-%COMP%]{width:35px;height:auto}"]}),i})();var w=l(1007),E=l(1962);function V(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-search-category-component",10),e.NdJ("search",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.search(o))}),e.qZA()}}function ee(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item"),e._UZ(1,"ion-icon",11),e.TgZ(2,"div",12)(3,"div")(4,"ion-label",13),e._uU(5),e.ALo(6,"lnWords"),e.qZA(),e.TgZ(7,"div",14)(8,"small"),e._uU(9),e.ALo(10,"time"),e.qZA(),e.TgZ(11,"small"),e._uU(12),e.ALo(13,"time"),e.qZA()()(),e.TgZ(14,"div")(15,"ion-button",15),e.NdJ("click",function(){const o=e.CHM(t),s=o.$implicit,c=o.index,h=e.oxw(2);return e.KtG(h.destroy(s,c))}),e._UZ(16,"ion-icon",16),e.qZA(),e.TgZ(17,"ion-button",17),e.NdJ("click",function(){const o=e.CHM(t),s=o.$implicit,c=o.index,h=e.oxw(2);return e.KtG(h.restore(s,c))}),e._UZ(18,"ion-icon",18),e.qZA()()()()}if(2&i){const t=a.$implicit;e.xp6(1),e.Q6J("src",(null==t||null==t.image?null:t.image.url)||"./../../../../assets/thumbnail.svg"),e.xp6(3),e.Q6J("title","Nome: "+(null==t?null:t.name)),e.uIk("data-message","Nome: "+(null==t?null:t.name)),e.xp6(1),e.hij(" ",e.xi3(6,6,null==t?null:t.name,16),""),e.xp6(4),e.Oqu(e.xi3(10,9,null==t?null:t.createdAt,"create")),e.xp6(3),e.Oqu(e.xi3(13,12,null==t?null:t.updatedAt,"update"))}}function te(i,a){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij("",null==t.category?null:t.category.length," categorias")}}function ne(i,a){if(1&i&&(e.TgZ(0,"ion-card")(1,"ion-text",19)(2,"p"),e._uU(3,"FIM"),e.qZA(),e.YNc(4,te,2,1,"p",8),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.category)}}function oe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-infinite-scroll",20),e.NdJ("ionInfinite",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.findMoreCategory(o))}),e._UZ(1,"ion-infinite-scroll-content",21),e.qZA()}}function ie(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-col",2),e.YNc(2,V,1,0,"app-search-category-component",3),e.qZA(),e.YNc(3,ee,19,15,"ion-item",4),e.TgZ(4,"div",5),e._UZ(5,"ion-icon",6),e.TgZ(6,"ion-text",7),e._uU(7," N\xe3o \xe1 itens na lixeira. "),e.qZA()(),e.YNc(8,ne,5,1,"ion-card",8),e.YNc(9,oe,2,0,"ion-infinite-scroll",9),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",(null==t.category?null:t.category.length)>10),e.xp6(1),e.Q6J("ngForOf",t.category),e.xp6(1),e.Q6J("hidden",(null==t.category?null:t.category.length)>0),e.xp6(4),e.Q6J("ngIf",!t.endListCategory),e.xp6(1),e.Q6J("ngIf",t.endListCategory)}}const re=function(i){return{hide:i}};function se(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"ion-row")(2,"ion-col",23)(3,"div",24)(4,"div")(5,"ion-text",25)(6,"p",26),e._uU(7,"Erro ao carregar categorias."),e.qZA()(),e.TgZ(8,"ion-refresher",27),e.NdJ("ionRefresh",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.refresher(o))}),e._UZ(9,"ion-refresher-content",28),e.qZA(),e.TgZ(10,"ion-text",25)(11,"ion-button",29),e.NdJ("mousedown",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.hideMenssage())}),e._uU(12,"Puxe para atualizar "),e._UZ(13,"ion-icon",30),e.qZA()()()()()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(6),e.Q6J("ngClass",e.VKq(1,re,t.menssage))}}function ae(i,a){1&i&&(e.TgZ(0,"span")(1,"div",33),e._UZ(2,"ion-skeleton-text",34),e.TgZ(3,"div"),e._UZ(4,"ion-skeleton-text",35)(5,"ion-skeleton-text",36),e.qZA()()())}function le(i,a){if(1&i&&(e.TgZ(0,"span",31),e._UZ(1,"ion-skeleton-text",32),e.qZA(),e.YNc(2,ae,6,0,"span",4)),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.sizeSkeleton)}}function ce(i,a){if(1&i&&(e.YNc(0,se,14,3,"ng-container",0),e.ALo(1,"async"),e.YNc(2,le,3,1,"ng-template",null,22,e.W1O)),2&i){const t=e.MAs(3),n=e.oxw();e.Q6J("ngIf",e.lcZ(1,2,n.error))("ngIfElse",t)}}let ge=(()=>{class i{constructor(t,n,o,s,c,h,I){this.route=t,this.categoryService=n,this.helpService=o,this.alertController=s,this.loadingService=c,this.messageService=h,this.searchService=I,this.error=new O.x,this.endListCategory=!0,this.fab=!1,this.sizeSkeleton=[1,2,3,4,5,6,7,8,9,10,11,12],this.isOrder=!1,this.sendOrder=!1,this.limit=12,this.offset=0,this.page=1}get getSearchBy(){return this.searchBy}set setSearchBy(t){const n=JSON.parse(`{ "${t}":"null" }`);this.searchBy=n}ngOnInit(){this.getUrl(),this.findCategory(),this.initSearchBy(),this.update(),this.drop()}ngOnDestroy(){this.$category.unsubscribe(),this.$drop.unsubscribe(),this.$searchBy.unsubscribe()}refresher(t){this.findCategory(),t.target.complete()}hideMenssage(){this.menssage=!0}togglePage(t){this.toggleList=t}findMoreCategory(t){return this.calculatePagination(),this.$category=this.categoryService.index("management/deleted",{limit:this.limit,offset:this.offset}).subscribe({next:n=>this.success(t,n),error:n=>this.error.next(!0),complete:()=>this.helpService.delay(this.$category.unsubscribe(),2e3)})}search(t){var n,o;if((null===(n=t?.target)||void 0===n?void 0:n.value.length)>=3){const s=this.setDataSearch(null===(o=t?.target)||void 0===o?void 0:o.value);return this.$search=this.categoryService.searchBy(s).subscribe({next:c=>{this.searchService.search=c,setTimeout(()=>this.$search.unsubscribe(),2e3)}})}}restore(t,n){return(0,_.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Restaurar categoria",subHeader:t?.name,buttons:[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"OK",role:"confirm",handler:s=>{const c=Object.assign(Object.assign({},s),{id:t?.id,_csrf:t?._csrf});return this.restored(c,n)}}],inputs:[{name:"password",type:"password",placeholder:"Senha",min:8,max:16}]})).present()})}destroy(t,n){return(0,_.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Excluir categoria",subHeader:t?.name,buttons:[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"OK",role:"confirm",handler:s=>{const c=Object.assign(Object.assign({},s),{id:t?.id,_csrf:t?._csrf});return this.delete(c,n)}}],inputs:[{name:"password",type:"password",placeholder:"Senha",min:8,max:16}]})).present()})}getUrl(){this.toggleListCategory=this.route.routerState.snapshot.url.includes("excluidas")}orderBy(t){}initSearchBy(){this.$searchBy=this.searchService.getSearchCategoryBy.subscribe({next:t=>{"name"===t?this.setSearchBy=t:(this.setSearchBy="name",this.orderBy(t))}})}setDataSearch(t){let n;return this.getSearchBy?(this.searchBuild(t),n=this.getSearchBy):n={firstName:t},n}searchBuild(t){const n=Object.keys(this.getSearchBy)[0];this.getSearchBy[n]=t}findCategory(){return this.category$=this.categoryService.index("management/deleted",{limit:this.limit,offset:this.offset}).pipe((0,S.b)(t=>this.category=t),(0,A.g)(500),(0,M.K)(t=>(this.error.next(!0),T.E)))}calculatePagination(){this.page+=1,this.offset=(this.page-1)*this.limit}success(t,n){this.setMoreData(n),this.updateScrollEvent(t,n)}updateScrollEvent(t,n){t.target.complete(),n.length<8&&(this.endListCategory=!1,t.target.disabled=!0)}setMoreData(t){return t.forEach(n=>this.category.push(n))}update(){return this.$category=this.categoryService.categoryObservable.subscribe({next:t=>{if(t){const n=this.getIndexCategoryCurrent(t);this.switchBetweenAddAndUpdate(t,n)}}})}getIndexCategoryCurrent(t){if(this.category)return this.category.findIndex(o=>o?.id===t?.id)}getIndexUserDropCurrent(t){return this.category.findIndex(o=>o?.id===t?.id)}switchBetweenAddAndUpdate(t,n){this.category&&this.category.splice(n,1,t)}drop(){this.$drop=this.categoryService.drop.subscribe({next:t=>{t&&this.toggleListCategory&&this.category.splice(this.getIndexUserDropCurrent(t),1)}})}delete(t,n){const o=this.loadingService.show("Excluindo categoria...");return this.$delete=this.categoryService.dropd(t).subscribe({next:s=>this.messsage(s,n,o),error:s=>this.messageService.error(s,o,this.$delete)})}restored(t,n){const o=this.loadingService.show("Restaurar categoria...");return this.$delete=this.categoryService.restore(t).subscribe({next:s=>this.messsage(s,n,o),error:s=>this.messageService.error(s,o,this.$delete)})}messsage(t,n,o){return this.category.splice(n,1),this.messageService.success(t?.message,o,this.$delete)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.F0),e.Y36(Z.H),e.Y36(u.f),e.Y36(r.Br),e.Y36(m.b),e.Y36(p.e),e.Y36(v.b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-category-announcement-deleted-item"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["Error",""],["size","12",1,"ion-no-padding"],[3,"search",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"content-center",3,"hidden"],["size","large","color","medium","name","trash-outline"],["color","medium"],[4,"ngIf"],[3,"ionInfinite",4,"ngIf"],[3,"search"],["slot","start","size","large","title","Imagem do categorias.",3,"src"],[1,"item"],[3,"title"],[1,"time"],["title","Exclui permanentemente","data-message","Exclui permanentemente","color","none",1,"cursor-pointer",3,"click"],["slot","icon-only","color","danger","name","trash"],["title","Restaurar categorias","data-message","Restaurar categorias","color","none",1,"cursor-pointer",3,"click"],["slot","icon-only","color","success","name","play-back"],["color","primary",1,"ion-text-center"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Carregando mais dados\u2026"],["loadingNoError",""],["size","12"],[1,"content-center"],[1,"ion-text-center"],[3,"ngClass"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Puxe para baixo","refreshingSpinner","circles","refreshingText","Atualizar..."],[3,"mousedown"],["name","arrow-down-circle",1,"ion-margin-start"],["size","12",1,"ion-padding-bottom","ion-padding-horizontal"],["animated","",1,"search"],[1,"skeleton"],["animated","",1,"avatar"],["animated","",1,"title"],["animated","",1,"line"]],template:function(t,n){if(1&t&&(e.YNc(0,ie,10,5,"ng-container",0),e.ALo(1,"async"),e.YNc(2,ce,4,4,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,n.category$))("ngIfElse",o)}},dependencies:[g.mk,g.sg,g.O5,r.YG,r.PM,r.wI,r.gu,r.ju,r.MB,r.Ie,r.Q$,r.nJ,r.Wo,r.Nd,r.CK,r.yW,P,g.Ov,w._,E.J],styles:[".skeleton[_ngcontent-%COMP%]{display:flex;margin-left:16px}.skeleton[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-radius:50px;width:40px;height:40px}.skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;margin-left:16px}.skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:160px;height:13px;margin-top:12px}.skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{align-self:flex-end;margin-top:16px;height:2px}.fab[_ngcontent-%COMP%]{opacity:0;transition:var(--transition)}.show[_ngcontent-%COMP%]{opacity:1}.search[_ngcontent-%COMP%]{width:100%;height:40px}.item[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;align-items:center}.item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:smaller;margin-top:4px}.item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{line-height:1.2}ion-icon[_ngcontent-%COMP%]{font-size:22px}"]}),i})();function de(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-search-category-component",9),e.NdJ("search",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.search(o))}),e.qZA()}}const me=function(i){return["/painel-de-controle","admin","categoria",i]};function ue(i,a){if(1&i&&(e.TgZ(0,"ion-reorder")(1,"ion-item",10),e._UZ(2,"ion-icon",11),e.TgZ(3,"div",12)(4,"div")(5,"ion-label",13),e._uU(6),e.ALo(7,"lnWords"),e.qZA(),e.TgZ(8,"div",14)(9,"small"),e._uU(10),e.ALo(11,"time"),e.qZA(),e.TgZ(12,"small"),e._uU(13),e.ALo(14,"time"),e.qZA()()(),e.TgZ(15,"div",15)(16,"small",16),e._UZ(17,"ion-icon",17),e._uU(18," ordenar "),e.qZA(),e.TgZ(19,"small",13),e._UZ(20,"ion-icon",18),e._uU(21),e.qZA()()()()()),2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("routerLink",e.VKq(22,me,null==t?null:t.slug)),e.xp6(1),e.Q6J("src",null!=t&&t.image?"/images/icons/"+(null==t||null==t.image?null:t.image.filename):"./../../../../assets/thumbnail.svg"),e.xp6(3),e.Q6J("title","Nome: "+(null==t?null:t.name)),e.uIk("data-message","Nome: "+(null==t?null:t.name)),e.xp6(1),e.hij(" ",e.xi3(7,13,null==t?null:t.name,n.ln),""),e.xp6(4),e.Oqu(e.xi3(11,16,null==t?null:t.createdAt,"create")),e.xp6(3),e.Oqu(e.xi3(14,19,null==t?null:t.updatedAt,"update")),e.xp6(3),e.Q6J("hidden",!n.isOrder),e.xp6(3),e.Q6J("title",null!=t&&t.state?"Categorias est\xe1 online":"Categorias est\xe1 offline"),e.uIk("data-message",null!=t&&t.state?"Categorias est\xe1 online":"Categorias est\xe1 offline"),e.xp6(1),e.Q6J("color",null!=t&&t.state?"success":"danger")("name",null!=t&&t.state?"power":"radio-button-off"),e.xp6(1),e.hij(" ",null!=t&&t.state?"online":"offline"," ")}}function pe(i,a){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij("",null==t.category?null:t.category.length," categorias")}}function he(i,a){if(1&i&&(e.TgZ(0,"ion-card")(1,"ion-text",19)(2,"p"),e._uU(3,"FIM"),e.qZA(),e.YNc(4,pe,2,1,"p",7),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.category)}}function _e(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-infinite-scroll",20),e.NdJ("ionInfinite",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.findMoreCategory(o))}),e._UZ(1,"ion-infinite-scroll-content",21),e.qZA()}}function fe(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"ion-col",2),e.YNc(2,de,1,0,"app-search-category-component",3),e.qZA(),e.TgZ(3,"ion-list")(4,"ion-reorder-group",4),e.NdJ("ionItemReorder",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.doReorder(o))}),e.YNc(5,ue,22,24,"ion-reorder",5),e.qZA()(),e._UZ(6,"app-category-announcement-create-component",6),e.YNc(7,he,5,1,"ion-card",7),e.YNc(8,_e,2,0,"ion-infinite-scroll",8),e.BQk()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",(null==t.category?null:t.category.length)>10),e.xp6(2),e.Q6J("disabled",!t.isOrder),e.xp6(1),e.Q6J("ngForOf",t.category),e.xp6(1),e.Q6J("category",t.category),e.xp6(1),e.Q6J("ngIf",!t.endListCategory),e.xp6(1),e.Q6J("ngIf",t.endListCategory)}}const Ce=function(i){return{hide:i}};function ye(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"ion-row")(2,"ion-col",23)(3,"div",24)(4,"div")(5,"ion-text",25)(6,"p",26),e._uU(7,"Erro ao carregar categorias."),e.qZA()(),e.TgZ(8,"ion-refresher",27),e.NdJ("ionRefresh",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.refresher(o))}),e._UZ(9,"ion-refresher-content",28),e.qZA(),e.TgZ(10,"ion-text",25)(11,"ion-button",29),e.NdJ("mousedown",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.hideMenssage())}),e._uU(12,"Puxe para atualizar "),e._UZ(13,"ion-icon",30),e.qZA()()()()()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(6),e.Q6J("ngClass",e.VKq(1,Ce,t.menssage))}}function xe(i,a){1&i&&(e.TgZ(0,"span")(1,"div",33),e._UZ(2,"ion-skeleton-text",34),e.TgZ(3,"div"),e._UZ(4,"ion-skeleton-text",35)(5,"ion-skeleton-text",36),e.qZA()()())}function ve(i,a){if(1&i&&(e.TgZ(0,"span",31),e._UZ(1,"ion-skeleton-text",32),e.qZA(),e.YNc(2,xe,6,0,"span",5)),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.sizeSkeleton)}}function be(i,a){if(1&i&&(e.YNc(0,ye,14,3,"ng-container",0),e.ALo(1,"async"),e.YNc(2,ve,3,1,"ng-template",null,22,e.W1O)),2&i){const t=e.MAs(3),n=e.oxw();e.Q6J("ngIf",e.lcZ(1,2,n.error))("ngIfElse",t)}}let Ze=(()=>{class i{constructor(t,n,o,s,c,h,I){this.categoryService=t,this.loadingService=n,this.messageService=o,this.searchService=s,this.helpService=c,this.navCtrl=h,this.plt=I,this.setError=new e.vpe(!1),this.isEmpty=new e.vpe(!1),this.sendOrder=new e.vpe(!1),this.error=new O.x,this.endListCategory=!0,this.fab=!1,this.sizeSkeleton=[1,2,3,4,5,6,7,8,9,10,11,12],this.limit=12,this.offset=0,this.page=1}get getSearchBy(){return this.searchBy}set setSearchBy(t){const n=JSON.parse(`{ "${t}":"null" }`);this.searchBy=n}ngOnInit(){this.setLnWord(),this.findCategory(),this.initSearchBy(),this.add(),this.delete(),this.saveSorting(),this.update()}ngOnDestroy(){this.$searchBy.unsubscribe(),this.$delete.unsubscribe(),this.$saveSorting.unsubscribe(),this.$update.unsubscribe()}refresher(t){this.findCategory(),t.target.complete()}hideMenssage(){this.menssage=!0}doReorder(t){t&&(this.sendOrder.emit(!0),this.category=t.detail.complete(this.category))}logScrolling(t){this.fab=t.detail.scrollTop>500}saveOrder(){var t;const n=this.loadingService.show("Ordenar categoria..."),o=this.category.map(s=>s.id);if(o.length>0){const s={order:o,_csrf:null===(t=this.category[0])||void 0===t?void 0:t._csrf};this.$order=this.categoryService.order(s).subscribe({next:c=>{setTimeout(()=>{this.isOrder=!1,this.sendOrder.emit(!1)},3500),this.messageService.success(c?.message,n,this.$order)},error:c=>this.messageService.error(c,n,this.$order)})}}findMoreCategory(t){return this.calculatePagination(),this.$category=this.categoryService.index("management",{limit:this.limit,offset:this.offset}).subscribe({next:n=>this.success(t,n),error:n=>(this.error.next(!0),this.setError.next(!0)),complete:()=>this.helpService.delay(this.$category.unsubscribe(),2e3)})}search(t){var n,o;if((null===(n=t?.target)||void 0===n?void 0:n.value.length)>=3){const s=this.setDataSearch(null===(o=t?.target)||void 0===o?void 0:o.value);return this.$search=this.categoryService.searchBy(s).subscribe({next:c=>{this.searchService.search=c,setTimeout(()=>this.$search.unsubscribe(),2e3)}})}}orderBy(t){if(this.category)switch(t){case"name":this.category.sort((n,o)=>n?.name<o?.name&&-1);break;case"createdAt":this.category.sort((n,o)=>n?.createdAt>o?.createdAt&&-1);break;case"updatedAt":this.category.sort((n,o)=>n?.updatedAt>o?.updatedAt&&-1);break;case"state":this.category.sort((n,o)=>n?.state>o?.state&&-1);break;case"position":this.category.sort((n,o)=>n?.position<o?.position&&-1)}}initSearchBy(){this.$searchBy=this.searchService.getSearchCategoryBy.subscribe({next:t=>{"name"===t?this.setSearchBy=t:(this.setSearchBy="name",this.orderBy(t))}})}setDataSearch(t){let n;return this.getSearchBy?(this.searchBuild(t),n=this.getSearchBy):n={firstName:t},n}searchBuild(t){const n=Object.keys(this.getSearchBy)[0];this.getSearchBy[n]=t}findCategory(){return this.category$=this.categoryService.index("management",{limit:this.limit,offset:this.offset}).pipe((0,S.b)(t=>{var n;return this.category=t,this.isEmpty.emit((null===(n=this.category)||void 0===n?void 0:n.length)>0)}),(0,A.g)(500),(0,M.K)(t=>(this.error.next(!0),this.setError.next(!0),T.E)))}calculatePagination(){this.page+=1,this.offset=(this.page-1)*this.limit}success(t,n){this.setMoreData(n),this.updateScrollEvent(t,n)}updateScrollEvent(t,n){t.target.complete(),n.length<8&&(this.endListCategory=!1,t.target.disabled=!0)}setMoreData(t){return t.forEach(n=>this.category.push(n))}delete(){this.$delete=this.categoryService.deleted.subscribe({next:t=>{var n;if(t&&this.category){const o=this.category.splice(this.getIndexCategoryCurrent(t),1);if(this.isEmpty.emit((null===(n=this.category)||void 0===n?void 0:n.length)>0),o.length>0)return this.navCtrl.navigateBack(["/painel-de-controle","admin","categorias"])}}})}getIndexCategoryCurrent(t){if(this.category)return this.category.findIndex(o=>o?.id===t?.id)}add(){return this.$category=this.categoryService.add.subscribe({next:t=>{t&&(this.isEmpty.emit(!1),this.category.unshift(t))}})}saveSorting(){return this.$saveSorting=this.categoryService.saveSorting.subscribe({next:t=>t&&this.saveOrder()})}update(){return this.$update=this.categoryService.categoryObservable.subscribe({next:t=>{if(t&&this.category){const n=this.category.findIndex(o=>o?.id===t?.id);this.category.splice(n,1,t)}}})}setLnWord(){this.plt.ready().then(()=>{this.ln=this.plt.is("mobile")?16:64})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z.H),e.Y36(m.b),e.Y36(p.e),e.Y36(v.b),e.Y36(u.f),e.Y36(r.SH),e.Y36(r.t4))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-category-announcement-enabled-item"]],viewQuery:function(t,n){if(1&t&&e.Gf(r.oz,5),2&t){let o;e.iGM(o=e.CRH())&&(n.reorderGroup=o.first)}},inputs:{isOrder:"isOrder"},outputs:{setError:"setError",isEmpty:"isEmpty",sendOrder:"sendOrder"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["Error",""],["size","12",1,"ion-no-padding"],[3,"search",4,"ngIf"],[3,"disabled","ionItemReorder"],[4,"ngFor","ngForOf"],[3,"category"],[4,"ngIf"],[3,"ionInfinite",4,"ngIf"],[3,"search"],["detail","true","color","none","button","",3,"routerLink"],["slot","start","size","large","title","Imagem do categorias.",3,"src"],[1,"item"],[3,"title"],[1,"time"],[1,"flex"],["data-message","Ordenar categorias","title","Ordenar categorias",3,"hidden"],["name","reorder-three","color","medium"],["size","small","slot","end",3,"color","name"],["color","primary",1,"ion-text-center"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Carregando mais dados\u2026"],["loadingNoError",""],["size","12"],[1,"content-center"],[1,"ion-text-center"],[3,"ngClass"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Puxe para baixo","refreshingSpinner","circles","refreshingText","Atualizar..."],[3,"mousedown"],["name","arrow-down-circle",1,"ion-margin-start"],["size","12",1,"ion-padding-bottom","ion-padding-horizontal"],["animated","",1,"search"],[1,"skeleton"],["animated","",1,"avatar"],["animated","",1,"title"],["animated","",1,"line"]],template:function(t,n){if(1&t&&(e.YNc(0,fe,9,6,"ng-container",0),e.ALo(1,"async"),e.YNc(2,be,4,4,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,n.category$))("ngIfElse",o)}},dependencies:[g.mk,g.sg,g.O5,r.YG,r.PM,r.wI,r.gu,r.ju,r.MB,r.Ie,r.Q$,r.q_,r.nJ,r.Wo,r.Nh,r.oz,r.Nd,r.CK,r.yW,r.YI,C.rH,b,P,g.Ov,w._,E.J],styles:[".flex[_ngcontent-%COMP%]{width:80px!important}",".skeleton[_ngcontent-%COMP%]{display:flex;margin-left:16px}.skeleton[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-radius:50px;width:40px;height:40px}.skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;margin-left:16px}.skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:160px;height:13px;margin-top:12px}.skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{align-self:flex-end;margin-top:16px;height:2px}.fab[_ngcontent-%COMP%]{opacity:0;transition:var(--transition)}.show[_ngcontent-%COMP%]{opacity:1}.search[_ngcontent-%COMP%]{width:100%;height:40px}.item[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;align-items:center}.item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:smaller;margin-top:4px}.item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{line-height:1.2}ion-icon[_ngcontent-%COMP%]{font-size:22px}",".flex[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:start;flex-direction:column;width:120px}.flex[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:flex;align-items:center}.flex[_ngcontent-%COMP%]   small[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{margin-right:6px}.flex[_ngcontent-%COMP%]   small.margin[_ngcontent-%COMP%]{margin-bottom:6px}p.no-margin[_ngcontent-%COMP%]{margin-top:-4px;margin-bottom:-4px}"]}),i})();function Oe(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-category-announcement-enabled-item",20),e.NdJ("sendOrder",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.isSaveOrder(o))})("setError",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.setError(o))})("isEmpty",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.isEmpty(o))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("isOrder",t.isOrder)}}function Te(i,a){1&i&&e._UZ(0,"app-category-announcement-deleted-item")}const Se=function(i){return{show:i}},Me=[{path:"",component:(()=>{class i{constructor(t,n){this.categoryService=t,this.categoryAnnouncementCreateComponent=n,this.isOrder=!1,this.fab=!1}setError(t){this.error=t}isEmpty(t){this.empty=t}register(){this.categoryAnnouncementCreateComponent.register()}orderList(){this.isOrder=!this.isOrder,this.sendOrder=!this.sendOrder}isSaveOrder(t){t||(this.isOrder=t),this.sendOrder=t}saveOrder(){this.categoryService.saveSorting.emit(!0)}togglePage(t){this.toggleList=t}logScrolling(t){this.fab=t.detail.scrollTop>500}toTop(){return this.content.scrollToTop(1e3)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z.H),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-category"]],viewQuery:function(t,n){if(1&t&&e.Gf(r.W2,7),2&t){let o;e.iGM(o=e.CRH())&&(n.content=o.first)}},decls:25,vars:10,consts:[[3,"scrollEvents","scrollY","ionScroll"],["fixed",""],["size","12"],[3,"togglePage"],[4,"ngIf","ngIfElse"],["ItemDeleted",""],["vertical","bottom","horizontal","end","slot","fixed"],["size","small","color","primary",1,"fab",3,"ngClass","click"],["name","arrow-up-circle","color","light"],["vertical","bottom","horizontal","center","slot","fixed","title","Salvar ordem da lista de categorias","aria-message","Salvar ordem da lista de categorias",3,"hidden"],["color","primary",3,"hidden","click"],["name","save","color","light"],["vertical","center","horizontal","end","slot","fixed","title","Cadastrar e ordenar categorias","aria-message","Cadastrar e ordenar categoria",3,"hidden"],["size","small"],["name","ellipsis-vertical"],["side","top"],["color","primary","title","Cadastrar categorias","aria-message","Cadastrar categorias",3,"click"],["name","add"],["color","primary","title","Ordenar categorias","aria-message","Ordenar categorias",3,"click"],["name","reorder-four"],[3,"isOrder","sendOrder","setError","isEmpty"]],template:function(t,n){if(1&t&&(e._UZ(0,"app-header-component"),e.TgZ(1,"ion-content",0),e.NdJ("ionScroll",function(s){return n.logScrolling(s)}),e.TgZ(2,"ion-grid",1)(3,"ion-row")(4,"ion-col",2)(5,"app-category-segment-component",3),e.NdJ("togglePage",function(s){return n.togglePage(s)}),e.qZA()(),e.TgZ(6,"ion-col",2),e.YNc(7,Oe,2,1,"ng-container",4),e.YNc(8,Te,1,0,"ng-template",null,5,e.W1O),e.qZA()()(),e.TgZ(10,"ion-fab",6)(11,"ion-fab-button",7),e.NdJ("click",function(){return n.toTop()}),e._UZ(12,"ion-icon",8),e.qZA()(),e.TgZ(13,"ion-fab",9)(14,"ion-fab-button",10),e.NdJ("click",function(){return n.saveOrder()}),e._UZ(15,"ion-icon",11),e.qZA()(),e.TgZ(16,"ion-fab",12)(17,"ion-fab-button",13),e._UZ(18,"ion-icon",14),e.qZA(),e.TgZ(19,"ion-fab-list",15)(20,"ion-fab-button",16),e.NdJ("click",function(){return n.register()}),e._UZ(21,"ion-icon",17),e.qZA(),e.TgZ(22,"ion-fab-button",18),e.NdJ("click",function(){return n.orderList()}),e._UZ(23,"ion-icon",19),e.qZA()()()(),e._UZ(24,"app-footer")),2&t){const o=e.MAs(9);e.xp6(1),e.Q6J("scrollEvents",!0)("scrollY",!0),e.xp6(6),e.Q6J("ngIf",n.toggleList)("ngIfElse",o),e.xp6(4),e.Q6J("ngClass",e.VKq(8,Se,n.fab)),e.xp6(2),e.Q6J("hidden",!n.toggleList),e.xp6(1),e.Q6J("hidden",!n.sendOrder),e.xp6(2),e.Q6J("hidden",!n.toggleList||n.error||!n.empty)}},dependencies:[g.mk,g.O5,r.wI,r.W2,r.IJ,r.W4,r.zq,r.jY,r.gu,r.Nd,z.G,D.S,L,ge,Ze],styles:[".skeleton[_ngcontent-%COMP%]{display:flex;margin-left:16px}.skeleton[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-radius:50px;width:40px;height:40px}.skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;margin-left:16px}.skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:160px;height:13px;margin-top:12px}.skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{align-self:flex-end;margin-top:16px;height:2px}.fab[_ngcontent-%COMP%]{opacity:0;transition:var(--transition)}.show[_ngcontent-%COMP%]{opacity:1}.search[_ngcontent-%COMP%]{width:100%;height:40px}.item[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;align-items:center}.item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:smaller;margin-top:4px}.item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{line-height:1.2}ion-icon[_ngcontent-%COMP%]{font-size:22px}"]}),i})()}];let Ie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[C.Bz.forChild(Me),C.Bz]}),i})(),Ae=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[b],imports:[g.ez,F.u5,r.Pc,Ie,Q.d,Y.O,$._,q.j,B.U]}),i})()},1962:(J,y,l)=>{l.d(y,{J:()=>e});var _=l(4650);let e=(()=>{class u{constructor(){this.lastRegex=/[\s][\w\W]{1,3}[\s]*$/g,this.firstRegex=/\w*\W*$|[\s]?[\w\W]{1,3}[\s]$/g}transform(d,p=22){this.max=p;const m=this.cropWords(d);if(this.wordsSize>this.max){const x=m.match(this.firstRegex),f=this.firstFilter(m,x);return this.lastRegex.test(f)?this.lastFilter(f):`${f}...`}return m}lastFilter(d){const p=d.match(this.lastRegex),m=new RegExp(p[0]);return`${d.replace(m,"")}...`}cropWords(d){if(d)return this.wordsSize=d.length,this.wordsSize>this.max?d.slice(0,this.max):d}firstFilter(d,p){const m=new RegExp(p[0]);return d.replace(m,"")}}return u.\u0275fac=function(d){return new(d||u)},u.\u0275pipe=_.Yjl({name:"lnWords",type:u,pure:!0}),u})()}}]);