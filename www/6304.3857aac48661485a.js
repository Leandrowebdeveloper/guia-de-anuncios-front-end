"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6304],{6304:(L,c,e)=>{e.r(c),e.d(c,{LogoutPageModule:()=>b});var v=e(6895),d=e(433),i=e(9267),l=e(5203),a=e(8322),o=e(4650),s=e(655),g=e(8505),S=e(262),f=e(515),p=e(3755),P=e(529),y=e(6578),A=e(1228),G=e(8039),T=e(6388),F=e(3131);let m=(()=>{class n extends p.O{constructor(t,r,h,I,z,B,R){super(t,r),this.http=t,this.storageService=r,this.authService=h,this.navCtrl=I,this.loadingService=z,this.messageService=B,this.helpsService=R,this.setApi="logout"}destroySession(){const t=this.loading();return this.findAll().pipe((0,g.b)(r=>this.success(r,t),(0,S.K)(r=>(this.error(r,t),f.E))))}success(t,r){this.helpsService.delay(()=>{this.setAuthUser(t),this.clearsSessionAndDatabaseStorage()},2500),this.disableLoadingAndGoToLoginPage(r)}loading(){return(0,s.mG)(this,void 0,void 0,function*(){return yield this.loadingService.show("Saindo do sistema...")})}disableLoading(t){return(0,s.mG)(this,void 0,void 0,function*(){return this.helpsService.delay(()=>(0,s.mG)(this,void 0,void 0,function*(){return yield(yield t).dismiss()}),2e3)})}error(t,r){return(0,s.mG)(this,void 0,void 0,function*(){return yield this.disableLoading(r),this.messageService.error(t)})}disableLoadingAndGoToLoginPage(t){return(0,s.mG)(this,void 0,void 0,function*(){return yield this.disableLoading(t),yield this.goToLoginPage()})}goToLoginPage(){return(0,s.mG)(this,void 0,void 0,function*(){return this.helpsService.delay(()=>(0,s.mG)(this,void 0,void 0,function*(){return yield this.navCtrl.navigateForward("/entrar")}),2500)})}clearsSessionAndDatabaseStorage(){this.removeTokenStorageSession(),this.removeTokenStorageDatabase()}removeTokenStorageSession(){return sessionStorage.removeItem("token")}removeTokenStorageDatabase(){return this.storageService.clean()}setAuthUser(t){return this.authService.setUser=t,this.authService.setApi="",this.authService.setIsLoggedIn=t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(P.eN),o.LFG(y.V),o.LFG(A.e),o.LFG(i.SH),o.LFG(G.b),o.LFG(T.e),o.LFG(F.f))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();var M=e(7868),E=e(8447);const C=[{path:"",canActivate:[a.x],canLoad:[a.x],component:(()=>{class n{constructor(t,r){this.navCtrl=t,this.logoutService=r}logout_(){return this.logout=this.logoutService.destroySession().subscribe({next:()=>this.logout.unsubscribe()})}back(){return this.navCtrl.back()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(i.SH),o.Y36(m))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-logout"]],decls:19,vars:1,consts:[[3,"fullscreen"],["fixed",""],[1,"ion-margin-vertical"],["size","6"],["expand","block",3,"click"],["name","log-out"],["name","log-in"]],template:function(t,r){1&t&&(o._UZ(0,"app-header-component"),o.TgZ(1,"ion-content",0)(2,"ion-grid",1)(3,"ion-card")(4,"ion-card-header")(5,"ion-card-subtitle"),o._uU(6,"Voc\xea pretende sair do sistema?"),o.qZA()(),o.TgZ(7,"ion-card-content")(8,"ion-grid",2)(9,"ion-row")(10,"ion-col",3)(11,"ion-button",4),o.NdJ("click",function(){return r.logout_()}),o._UZ(12,"ion-icon",5),o._uU(13,"\xa0 sim "),o.qZA()(),o.TgZ(14,"ion-col",3)(15,"ion-button",4),o.NdJ("click",function(){return r.back()}),o._UZ(16,"ion-icon",6),o._uU(17,"\xa0 n\xe3o "),o.qZA()()()()()()()(),o._UZ(18,"app-footer")),2&t&&(o.xp6(1),o.Q6J("fullscreen",!0))},dependencies:[i.YG,i.PM,i.FN,i.Zi,i.tO,i.wI,i.W2,i.jY,i.gu,i.Nd,M.G,E.S]}),n})()}];let Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[l.Bz.forChild(C),l.Bz]}),n})();var D=e(677),O=e(6444);let b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[m],imports:[v.ez,d.u5,i.Pc,Z,D.O,O._]}),n})()},8039:(L,c,e)=>{e.d(c,{b:()=>l});var v=e(655),d=e(4650),i=e(9267);let l=(()=>{class a{constructor(s){this.loadingController=s}show(s){return(0,v.mG)(this,void 0,void 0,function*(){const g=this.loadingController.create({message:s,spinner:"bubbles"});return(yield g).present(),g})}}return a.\u0275fac=function(s){return new(s||a)(d.LFG(i.HT))},a.\u0275prov=d.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);