"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3416],{9512:(P,p,s)=>{s.d(p,{L:()=>I});var l=s(655),u=s(3682),e=s(4650),d=s(2156),E=s(6388),o=s(9267),g=s(1228),_=s(6895),c=s(5203);let a=(()=>{class v{transform(n){if(n)return n.reverse()}}return v.\u0275fac=function(n){return new(n||v)},v.\u0275pipe=e.Yjl({name:"reverse",type:v,pure:!0}),v})();function t(v,O){1&v&&(e.TgZ(0,"span"),e._uU(1,"Aviso"),e.qZA())}function r(v,O){1&v&&(e.TgZ(0,"span"),e._uU(1,"Informa\xe7\xe3o"),e.qZA())}function i(v,O){1&v&&(e.TgZ(0,"span"),e._uU(1,"Parab\xe9ns"),e.qZA())}function m(v,O){1&v&&(e.TgZ(0,"span"),e._uU(1,"Aten\xe7\xe3o"),e.qZA())}function M(v,O){if(1&v){const n=e.EpF();e.TgZ(0,"ion-fab-button",8),e.NdJ("click",function(){e.CHM(n);const D=e.oxw(),U=D.index,B=D.$implicit,K=e.oxw();return e.KtG(K.close(U,B))}),e._UZ(1,"ion-icon",9),e.qZA()}if(2&v){const n=e.oxw().$implicit;e.Q6J("color",("info"===(null==n?null:n.type)?"secondary":"warning"===(null==n?null:n.type)&&"warning")||"danger"===(null==n?null:n.type)&&"danger"||"success"===(null==n?null:n.type)&&"success")}}function f(v,O){if(1&v){const n=e.EpF();e.TgZ(0,"div")(1,"ion-button",10),e.NdJ("click",function(){e.CHM(n);const D=e.oxw().index,U=e.oxw();return e.KtG(U.update(D))}),e._UZ(2,"ion-icon",11),e._uU(3," editar "),e.qZA()()}}function A(v,O){1&v&&(e.TgZ(0,"div")(1,"ion-button",12),e._UZ(2,"ion-icon",13),e._uU(3," suporte "),e.qZA()())}const L=function(v){return["/painel-de-controle","admin","usuario",v]};function S(v,O){if(1&v&&(e.TgZ(0,"ion-card-content")(1,"ion-item-divider")(2,"ion-label"),e._uU(3,"Remetente"),e.qZA()(),e.TgZ(4,"ion-item",14)(5,"ion-avatar",15),e._UZ(6,"img",16),e.qZA(),e.TgZ(7,"div")(8,"ion-label"),e._uU(9),e.qZA(),e.TgZ(10,"small"),e._uU(11),e.qZA()()()()),2&v){const n=e.oxw().$implicit;e.xp6(4),e.Q6J("routerLink",e.VKq(4,L,null==n||null==n.userSender?null:n.userSender.slug)),e.xp6(2),e.Q6J("src",(null==n||null==n.userSender||null==n.userSender.image?null:n.userSender.image.url)||"./../../../../../../assets/avatar.svg",e.LSH),e.xp6(3),e.Oqu(null==n||null==n.userSender?null:n.userSender.name),e.xp6(2),e.Oqu(null==n||null==n.userSender?null:n.userSender.email)}}const T=function(v){return{"flex-header":v}};function C(v,O){if(1&v&&(e.TgZ(0,"ion-card")(1,"ion-card-header",1)(2,"ion-card-title")(3,"span",2),e.YNc(4,t,2,0,"span",3),e.YNc(5,r,2,0,"span",3),e.YNc(6,i,2,0,"span",3),e.YNc(7,m,2,0,"span",3),e.qZA()(),e.YNc(8,M,2,1,"ion-fab-button",4),e.qZA(),e.TgZ(9,"ion-card-content")(10,"p")(11,"em"),e._uU(12),e.qZA()(),e._UZ(13,"div",5),e.TgZ(14,"div",6),e.YNc(15,f,4,0,"div",7),e.YNc(16,A,4,0,"div",7),e.qZA()(),e.YNc(17,S,12,6,"ion-card-content",7),e.qZA()),2&v){const n=O.$implicit,h=e.oxw();e.xp6(1),e.Q6J("color",("info"===(null==n?null:n.type)?"secondary":"warning"===(null==n?null:n.type)&&"warning")||"danger"===(null==n?null:n.type)&&"danger"||"success"===(null==n?null:n.type)&&"success")("ngClass",e.VKq(13,T,"danger"!==(null==n?null:n.type))),e.xp6(2),e.Q6J("ngSwitch",null==n?null:n.type),e.xp6(1),e.Q6J("ngSwitchCase","warning"),e.xp6(1),e.Q6J("ngSwitchCase","info"),e.xp6(1),e.Q6J("ngSwitchCase","success"),e.xp6(1),e.Q6J("ngSwitchCase","danger"),e.xp6(1),e.Q6J("ngIf","danger"!==(null==n?null:n.type)),e.xp6(4),e.Oqu(null==h.user?null:h.user.name),e.xp6(1),e.Q6J("innerHtml",null==n?null:n.description,e.oJD),e.xp6(2),e.Q6J("ngIf",h.isButton),e.xp6(1),e.Q6J("ngIf",null==n?null:n.response),e.xp6(1),e.Q6J("ngIf",h.isButton&&(null==n?null:n.userSender))}}let I=(()=>{class v{constructor(n,h,D,U){this.userMessageService=n,this.messageService=h,this.modalController=D,this.authService=U}ngOnInit(){this.init(),this.isButton="1"===this.authService.getLevel}close(n,h){const D={_csrf:this.setCsrf(),id:h?.id};return this.$close=this.userMessageService.close(D).subscribe({next:U=>this.success(n),error:U=>this.messageService.error(U,null,this.$close)})}update(n){return(0,l.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:u.y,componentProps:{label:"Editar menssagem",data:this.buildDataForm(n)}})).present()})}buildDataForm(n){if(this.user){const{_csrf:h,id:D,messages:U}=this.user;return{_csrf:h,id:D,messages:U}}{const{_csrf:h,id:D,messages:U}=this.announcement;return{_csrf:h,id:D,messages:U}}}setCsrf(){var n;return(null===(n=this.user)||void 0===n?void 0:n._csrf)||this.announcement._csrf}success(n){this.messages.length>0&&(this.messages.splice(n,1),this.$close.unsubscribe())}init(){var n;this.messages=this.user?null===(n=this.user)||void 0===n?void 0:n.messages:this.announcement.messages}}return v.\u0275fac=function(n){return new(n||v)(e.Y36(d.K),e.Y36(E.e),e.Y36(o.IN),e.Y36(g.e))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-card-message-component"]],inputs:{user:"user",announcement:"announcement"},decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[1,"ion-margin-bottom",3,"color","ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],["size","small",3,"color","click",4,"ngIf"],[1,"ion-margin-top",3,"innerHtml"],[1,"d-flex"],[4,"ngIf"],["size","small",3,"color","click"],["name","close"],["size","small",3,"click"],["slot","start","name","create"],["size","small","color","light"],["slot","start","name","call"],["lines","none","button","",3,"routerLink"],["slot","start"],[3,"src"]],template:function(n,h){1&n&&(e.YNc(0,C,18,15,"ion-card",0),e.ALo(1,"reverse")),2&n&&e.Q6J("ngForOf",e.lcZ(1,1,h.messages))},dependencies:[_.mk,_.sg,_.O5,_.RF,_.n9,o.BJ,o.YG,o.PM,o.FN,o.Zi,o.Dq,o.W4,o.gu,o.Ie,o.rH,o.Q$,o.YI,c.rH,a],styles:["ion-card-header.flex-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:0;padding-bottom:0}.d-flex[_ngcontent-%COMP%]{display:flex;justify-content:end;margin-top:32px}"]}),v})()},3682:(P,p,s)=>{s.d(p,{y:()=>c});var l=s(4650),u=s(2156),e=s(3131),d=s(9267),E=s(8039),o=s(6388),g=s(2077),_=s(8404);let c=(()=>{class a{constructor(r,i,m,M,f){this.messagesService=r,this.helpService=i,this.modalController=m,this.loadingService=M,this.messageService=f,this.attrButton={route:"/message",icon:"cloud-upload",label:"Salvar",fill:!1,aria:"Salvar menssagem.",title:"Salvar menssagem."}}ngOnInit(){this.getData()}importForm(r){return this.form=r}onSubmit(r){return this.saveMessage(r)}saveMessage(r){var i,m,M,f,A,L,S,T;const C=this.loadingService.show("Salvando menssagem...");let I;return null!==(m=null===(i=this.data)||void 0===i?void 0:i.messages[0])&&void 0!==m&&m.userId?(r.value.userId=null===(f=null===(M=this.data)||void 0===M?void 0:M.messages[0])||void 0===f?void 0:f.userId,r.value.id=null===(L=null===(A=this.data)||void 0===A?void 0:A.messages[0])||void 0===L?void 0:L.id,I="users"):(I="announcement",r.value.announcementId=null===(T=null===(S=this.data)||void 0===S?void 0:S.messages[0])||void 0===T?void 0:T.announcementId),this.write=this.messagesService.send(r.value,I).subscribe({next:v=>this.messsage(v,C),error:v=>this.messageService.error(v,C,this.write)})}messsage(r,i){return this.helpService.delay(()=>this.modalController.dismiss(),2500),this.messageService.success(r?.message,i,this.write)}getData(){const{_csrf:r,messages:i}=this.data;this.config=Object.assign({_csrf:r,password:null},i[0])}}return a.\u0275fac=function(r){return new(r||a)(l.Y36(u.K),l.Y36(e.f),l.Y36(d.IN),l.Y36(E.b),l.Y36(o.e))},a.\u0275cmp=l.Xpm({type:a,selectors:[["ng-component"]],inputs:{data:"data",label:"label",isAuth:"isAuth"},decls:4,vars:4,consts:[[3,"label"],[3,"fullscreen"],["fixed",""],[3,"inputConfig","attrButton","submitDataForm","exportForm"]],template:function(r,i){1&r&&(l._UZ(0,"app-header-component-modal",0),l.TgZ(1,"ion-content",1)(2,"ion-grid",2)(3,"app-form",3),l.NdJ("submitDataForm",function(M){return i.onSubmit(M)})("exportForm",function(M){return i.importForm(M)}),l.qZA()()()),2&r&&(l.Q6J("label",i.label),l.xp6(1),l.Q6J("fullscreen",!0),l.xp6(2),l.Q6J("inputConfig",i.config)("attrButton",i.attrButton))},dependencies:[d.W2,d.jY,g.U,_.s],styles:["ion-content[_ngcontent-%COMP%]{--padding-top: 0px !important}"]}),a})()},2156:(P,p,s)=>{s.d(p,{K:()=>_});var l=s(8505),u=s(3755),e=s(4650),d=s(529),E=s(6578),o=s(9611),g=s(4111);let _=(()=>{class c extends u.O{constructor(t,r,i,m){super(t,r),this.storageService=r,this.usersService=i,this.managementAnnouncementService=m,this.setApi="messages"}set setUserMessage(t){const r=this.usersService.getUsers.messages.length,i=this.usersService.getUsers.messages.findIndex(m=>m?.id===t?.id);-1===i?r>0?this.usersService.getUsers.messages.unshift(t):this.usersService.getUsers.messages=[t]:this.usersService.getUsers.messages.splice(i,1,t),this.usersService.setUsers=this.usersService.getUsers}send(t,r){return t?.id?this.patch(t,"management").pipe((0,l.b)(i=>"users"===r?this.setUserMessage=i:"announcement"===r?this.managementAnnouncementService.setAnnouncementMessage=i:void 0)):(delete t.id,this.create(t,"management").pipe((0,l.b)(i=>"users"===r?this.setUserMessage=i:"announcement"===r?this.managementAnnouncementService.setAnnouncementMessage=i:void 0)))}close(t){return this.destroy(t,"management")}}return c.\u0275fac=function(t){return new(t||c)(e.LFG(d.eN),e.LFG(E.V),e.LFG(o.J),e.LFG(g.O))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac}),c})()},541:(P,p,s)=>{s.d(p,{o:()=>_});var l=s(8505),u=s(3755),e=s(4650),d=s(529),E=s(6578),o=s(1228),g=s(9611);let _=(()=>{class c extends u.O{constructor(t,r,i,m){super(t,r),this.http=t,this.storageService=r,this.authService=i,this.usersService=m,this.setApi="avatar"}get avatar(){var t;return null===(t=this.usersService.getUsers)||void 0===t?void 0:t.image}set avatar(t){this.usersService.getUsers.image=t,this.usersService.setUsers=this.usersService.getUsers}set setCsrf(t){this.csrf=t}delete(t){return this.destroy(t).pipe((0,l.b)(r=>this.setAuthAvatar(r)))}setAuthAvatar(t){var r,i,m;(null===(r=this.avatar)||void 0===r?void 0:r.userId)===t?.userId&&(this.avatar=t),(null===(m=null===(i=this.authService)||void 0===i?void 0:i.avatar)||void 0===m?void 0:m.userId)===t?.userId&&(this.authService.avatar=t)}}return c.\u0275fac=function(t){return new(t||c)(e.LFG(d.eN),e.LFG(E.V),e.LFG(o.e),e.LFG(g.J))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac}),c})()},9975:(P,p,s)=>{s.d(p,{S:()=>_});var l=s(3755),u=s(8505),e=s(4650),d=s(529),E=s(6578),o=s(9611),g=s(2156);let _=(()=>{class c extends l.O{constructor(t,r,i,m){super(t,r),this.storageService=r,this.usersService=i,this.userMessageService=m,this.setApi="admin"}set setBlockade(t){this.usersService.getUsers.blockade=t,this.usersService.setUsers=this.usersService.getUsers}blockade(t){return t?.id?this.patch(t,"management/blockade").pipe((0,u.b)(r=>{this.setBlockade=r?.blockade,this.userMessageService.setUserMessage=r.messages})):this.create(t,"management/blockade").pipe((0,u.b)(r=>{this.setBlockade=r?.blockade,this.userMessageService.setUserMessage=r.messages}))}}return c.\u0275fac=function(t){return new(t||c)(e.LFG(d.eN),e.LFG(E.V),e.LFG(o.J),e.LFG(g.K))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac}),c})()},6330:(P,p,s)=>{s.d(p,{_:()=>_});var l=s(3755),u=s(8505),e=s(4650),d=s(529),E=s(6578),o=s(9267),g=s(9611);let _=(()=>{class c extends l.O{constructor(t,r,i,m){super(t,r),this.storageService=r,this.navCtrl=i,this.adminUsersService=m,this.setApi="admin"}delete(t){return this.destroy(t,"management/trash").pipe((0,u.b)(r=>{if(r)return this.adminUsersService.setDelete=r,setTimeout(()=>this.navCtrl.navigateBack(["/painel-de-controle","admin","usuarios"]),3600)}))}}return c.\u0275fac=function(t){return new(t||c)(e.LFG(d.eN),e.LFG(E.V),e.LFG(o.SH),e.LFG(g.J))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac}),c})()},8238:(P,p,s)=>{s.d(p,{j:()=>E});var l=s(3755),u=s(4650),e=s(529),d=s(6578);let E=(()=>{class o extends l.O{constructor(_,c){super(_,c),this.storageService=c,this.setApi="admin"}email(_){return this.patch(_,"management/email")}}return o.\u0275fac=function(_){return new(_||o)(u.LFG(e.eN),u.LFG(d.V))},o.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac}),o})()},7312:(P,p,s)=>{s.d(p,{H:()=>g});var l=s(8505),u=s(3755),e=s(4650),d=s(529),E=s(6578),o=s(9611);let g=(()=>{class _ extends u.O{constructor(a,t,r){super(a,t),this.storageService=t,this.usersService=r,this.setApi="admin"}set setLevel(a){this.usersService.getUsers.level=a,this.usersService.setUsers=this.usersService.getUsers}level(a){return this.patch(a,"management/level").pipe((0,l.b)(t=>this.setLevel=t?.level))}}return _.\u0275fac=function(a){return new(a||_)(e.LFG(d.eN),e.LFG(E.V),e.LFG(o.J))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac}),_})()},6024:(P,p,s)=>{s.d(p,{o:()=>c});var l=s(8505),u=s(3755),e=s(4650),d=s(529),E=s(6578),o=s(6895),g=s(1247),_=s(9611);let c=(()=>{class a extends u.O{constructor(r,i,m,M,f){super(r,i),this.storageService=i,this.location=m,this.breadcrumbsService=M,this.usersService=f,this.setApi="admin"}set setName(r){this.usersService.getUsers.firstName=r?.firstName,this.usersService.getUsers.lastName=r?.lastName,this.usersService.getUsers.slug=r?.slug,this.usersService.getUsers.name=r?.name,this.usersService.setUsers=this.usersService.getUsers}name(r){return this.patch(r,"management/name").pipe((0,l.b)(i=>{this.setName=i,this.updateUsersUrl(i)}))}updateUsersUrl(r){const i=`/painel-de-controle/admin/usuario/${r?.slug}`;this.breadcrumbsService.setEvent(i),this.location.replaceState(i)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(d.eN),e.LFG(E.V),e.LFG(o.Ye),e.LFG(g.d),e.LFG(_.J))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})()},9050:(P,p,s)=>{s.d(p,{F:()=>g});var l=s(8505),u=s(3755),e=s(4650),d=s(529),E=s(6578),o=s(9611);let g=(()=>{class _ extends u.O{constructor(a,t,r){super(a,t),this.storageService=t,this.usersService=r,this.setApi="admin"}set setIsPassword(a){this.usersService.getUsers.isPassword=a,this.usersService.setUsers=this.usersService.getUsers}password(a){return this.patch(a,"management/password").pipe((0,l.b)(t=>this.setIsPassword=t?.isPassword))}}return _.\u0275fac=function(a){return new(a||_)(e.LFG(d.eN),e.LFG(E.V),e.LFG(o.J))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac}),_})()},5351:(P,p,s)=>{s.d(p,{V:()=>g});var l=s(3755),u=s(8505),e=s(4650),d=s(529),E=s(6578),o=s(9611);let g=(()=>{class _ extends l.O{constructor(a,t,r){super(a,t),this.storageService=t,this.usersService=r,this.setApi="admin"}set setPlan(a){this.usersService.getUsers.plan=a,this.usersService.setUsers=this.usersService.getUsers}plan(a){return console.log(a),this.patch(a,"management/plan").pipe((0,u.b)(t=>this.setPlan=t))}}return _.\u0275fac=function(a){return new(a||_)(e.LFG(d.eN),e.LFG(E.V),e.LFG(o.J))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac}),_})()},8552:(P,p,s)=>{s.d(p,{e:()=>e});var l=s(4650),u=s(1135);let e=(()=>{class d{constructor(){this.result=new l.vpe(void 0),this.search$=new u.X(void 0),this.setSearchBy="firstName"}get getSearchBy(){return this.search$.asObservable()}get search(){return this.result.asObservable()}set search(o){this.result.emit(o)}set setSearchBy(o){this.search$.next(o)}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac}),d})()},8165:(P,p,s)=>{s.d(p,{b:()=>g});var l=s(3755),u=s(8505),e=s(4650),d=s(529),E=s(6578),o=s(9611);let g=(()=>{class _ extends l.O{constructor(a,t,r){super(a,t),this.storageService=t,this.usersService=r,this.setApi="admin"}set setState(a){this.usersService.getUsers.state=a?.state,this.usersService.getUsers.updatedAt=a?.updatedAt,this.usersService.setUsers=this.usersService.getUsers}state(a){return this.patch(a,"management/state").pipe((0,u.b)(t=>{this.setState=t}))}}return _.\u0275fac=function(a){return new(a||_)(e.LFG(d.eN),e.LFG(E.V),e.LFG(o.J))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac}),_})()},6469:(P,p,s)=>{s.d(p,{O:()=>T});var l=s(5203),u=s(6895),e=s(433),d=s(9267),E=s(1265),o=s(2728),g=s(2263),_=s(8165),c=s(5351),a=s(9050),t=s(6024),r=s(7312),i=s(6330),m=s(541),M=s(9975),f=s(8238),A=s(8552),L=s(2156),S=s(4650);let T=(()=>{class C{}return C.\u0275fac=function(v){return new(v||C)},C.\u0275mod=S.oAB({type:C}),C.\u0275inj=S.cJS({providers:[M.S,L.K,_.b,c.V,a.F,t.o,r.H,i._,m.o,f.j,A.e],imports:[u.ez,e.u5,d.Pc,l.Bz,E.Q,o.i,g.d]}),C})()}}]);