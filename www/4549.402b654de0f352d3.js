"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4549,9285,7500],{8404:(h,y,r)=>{r.d(y,{s:()=>i});var c=r(4650),u=r(9267);let i=(()=>{class m{constructor(g,d){this.plt=g,this.modalController=d}ngOnInit(){this.isPlt=this.plt.is("desktop")}close(){return this.modalController.dismiss()}}return m.\u0275fac=function(g){return new(g||m)(c.Y36(u.t4),c.Y36(u.IN))},m.\u0275cmp=c.Xpm({type:m,selectors:[["app-header-component-modal"]],inputs:{label:"label"},decls:7,vars:3,consts:[["color","primary"],[3,"slot"],["size","small","shape","round",3,"click"],["color","light",3,"name"]],template:function(g,d){1&g&&(c.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-fab-button",2),c.NdJ("click",function(){return d.close()}),c._UZ(4,"ion-icon",3),c.qZA()(),c.TgZ(5,"ion-title"),c._uU(6),c.qZA()()()),2&g&&(c.xp6(2),c.Q6J("slot",d.isPlt?"end":"start"),c.xp6(2),c.Q6J("name",d.isPlt?"close":"arrow-back"),c.xp6(2),c.Oqu(d.label))},dependencies:[u.Sm,u.W4,u.Gu,u.gu,u.wd,u.sr]}),m})()},2728:(h,y,r)=>{r.d(y,{i:()=>m});var c=r(9267),u=r(6895),i=r(4650);let m=(()=>{class e{}return e.\u0275fac=function(d){return new(d||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[c.Pc,u.ez]}),e})()},4549:(h,y,r)=>{r.r(y),r.d(y,{ManagementPageModule:()=>H});var c=r(6895),u=r(433),i=r(9267),m=r(5203),e=r(4650),g=r(7150),d=r(5707),f=r(6388);let A=(()=>{class o{transform(t){return t&&t?.state?"Online":"Offline"}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"categoryState",type:o,pure:!0}),o})(),Z=(()=>{class o{constructor(t,n,a){this.fb=t,this.stateService=n,this.messageService=a}state(){if(this.category){const{slug:t,_csrf:n}=this.category;return this.form=this.fb.group({slug:t,_csrf:n}),this.$state=this.stateService.state(this.form.value).subscribe({next:a=>a?.message&&this.messageService.success(a?.message,void 0,this.$state,350),error:a=>this.messageService.error(a,void 0,this.$state)})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.qu),e.Y36(d.b),e.Y36(f.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-category-announcement-state-component"]],inputs:{category:"category"},decls:6,vars:5,consts:[["slot","end","title","Alternar entre usu\xe1rio conectado ou desligado.","aria-label","Clique para alternar entre usu\xe1rio conectado ou desligado.",3,"checked","ionChange"],["slot","start",3,"name"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.ALo(3,"categoryState"),e.qZA(),e.TgZ(4,"ion-toggle",0),e.NdJ("ionChange",function(){return n.state()}),e.qZA(),e._UZ(5,"ion-icon",1),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,3,n.category)),e.xp6(2),e.Q6J("checked",null==n.category?null:n.category.state),e.xp6(1),e.Q6J("name",null!=n.category&&n.category.state?"power":"radio-button-off"))},dependencies:[i.gu,i.Ie,i.Q$,i.ho,i.w,A]}),o})();var v=r(655),C=r(3131),P=r(3405),_=r(8039),b=r(1616),M=r(8404);let S=(()=>{class o{constructor(t,n,a,l,p){this.helpService=t,this.modalController=n,this.categoryService=a,this.messageService=l,this.loadingService=p,this.attrButton={route:"/category",icon:"create",label:"Editar",aria:"Editar categoria.",title:"Editar categoria."}}ngOnInit(){this.getData()}importForm(t){return this.form=t}onSubmit(t){return this.update(t)}update(t){const n=this.loadingService.show("Cadastrar categoria...");return this.write=this.categoryService.updateNameAndDescription(t.value).subscribe({next:a=>this.messsage(a,n),error:a=>this.messageService.error(a,n,this.write)})}messsage(t,n){if(t?.message)return this.helpService.delay(()=>this.modalController.dismiss(),2500),this.messageService.success(t?.message,n,this.write)}getData(){const{_csrf:t,name:n,description:a,slug:l}=this.category;this.config={_csrf:t,name:n,description:a,slug:l}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.f),e.Y36(i.IN),e.Y36(P.Q),e.Y36(f.e),e.Y36(_.b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],inputs:{category:"category",action:"action",label:"label"},decls:4,vars:4,consts:[[3,"label"],[3,"fullscreen"],["fixed",""],[3,"inputConfig","attrButton","submitDataForm","exportForm"]],template:function(t,n){1&t&&(e._UZ(0,"app-header-component-modal",0),e.TgZ(1,"ion-content",1)(2,"ion-grid",2)(3,"app-form",3),e.NdJ("submitDataForm",function(l){return n.onSubmit(l)})("exportForm",function(l){return n.importForm(l)}),e.qZA()()()),2&t&&(e.Q6J("label",n.label),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("inputConfig",n.config)("attrButton",n.attrButton))},dependencies:[i.W2,i.jY,b.U,M.s]}),o})(),T=(()=>{class o{constructor(t){this.modalController=t}name(){return(0,v.mG)(this,void 0,void 0,function*(){if(this.category){const{_csrf:t,name:n,description:a,slug:l}=this.category;return yield(yield this.modalController.create({component:S,componentProps:{action:"name",label:"Editar",category:{_csrf:t,name:n,description:a,slug:l}}})).present()}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-category-announcement-update-component"]],inputs:{category:"category"},decls:4,vars:0,consts:[["detail","true","title","Alterar nome e descri\xe7\xe3o","aria-label","Clique para alterar nome e descri\xe7\xe3o","button","",3,"click"],["name","create","slot","start"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-item",0),e.NdJ("click",function(){return n.name()}),e._UZ(1,"ion-icon",1),e.TgZ(2,"ion-label"),e._uU(3,"Nome"),e.qZA()())},dependencies:[i.gu,i.Ie,i.Q$]}),o})();var F=r(7143),U=r(72);function E(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-fab",7),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteIcon())}),e.TgZ(1,"ion-fab-button",8),e._UZ(2,"ion-icon",9),e.qZA()()}}let I=(()=>{class o{constructor(t,n){this.imageCategoryService=t,this.messageService=n}sendFile(t){if(t?.files&&"image/svg+xml"===t.files[0].type){const n=this.buildDataUpload();if(n)return this.$upload=this.imageCategoryService.uploadIcon(n,t.files[0]).subscribe({next:a=>this.success(a,a,this.$upload),error:a=>this.messageService.error(a,void 0,this.$upload)})}}buildDataUpload(){if(this.category)return{catAdId:this.category.id,_csrf:this.category._csrf}}loadFile(t){return t.click()}deleteIcon(){var t;if(this.category){this.category.image._csrf=null===(t=this.category)||void 0===t?void 0:t._csrf;const n=Object.assign({},this.category.image);return this.$deleteIcon=this.imageCategoryService.deleteIcon(n).subscribe({next:a=>a&&this.update(a,"Icone excluido com sucesso.",this.$deleteIcon)})}}success(t,n,a){if(t.ok&&200===t.status)return this.complete(n,a)}complete(t,n){const{body:a}=t;a&&this.update(a,"Icone adicionado com sucesso.",n)}update(t,n,a){this.setIcon(t),this.messageService.success(n,void 0,a,2e3)}setIcon(t){this.imageCategoryService.setIcon=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(F.q),e.Y36(f.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-image-category-component"]],inputs:{category:"category"},decls:18,vars:9,consts:[[1,"container","ion-margin-vertical"],["type","file",1,"inputFiles",3,"disabled","change"],["files",""],["title","Adicionar \xe1 icone da categoria.","aria-label","Clique para adicionar icone da categoria.","button","",3,"click"],["referrerpolicy","no-referrer","alt","Avatar","title","Imagem do usu\xe1rio",3,"src"],["color","medium","size","large","name","camera"],["vertical","bottom","horizontal","end","slot","fixed",3,"click",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",3,"click"],["color","none","size","small","title","Excluir icone"],["name","trash"]],template:function(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"ion-card")(1,"div",0)(2,"input",1,2),e.NdJ("change",function(){e.CHM(a);const p=e.MAs(3);return e.KtG(n.sendFile(p))}),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){e.CHM(a);const p=e.MAs(3);return e.KtG(n.loadFile(p))}),e.TgZ(5,"ion-thumbnail"),e._UZ(6,"ion-img",4),e.qZA(),e._UZ(7,"ion-icon",5),e.qZA()(),e.TgZ(8,"ion-card-content")(9,"ion-card-header")(10,"ion-card-title"),e._uU(11),e.qZA(),e.TgZ(12,"ion-card-subtitle"),e._uU(13),e._UZ(14,"br"),e._uU(15),e.ALo(16,"time"),e.qZA()(),e.YNc(17,E,3,0,"ion-fab",6),e.qZA()()}2&t&&(e.xp6(2),e.Q6J("disabled",!(null==n.category||null==n.category.image||!n.category.image.url)),e.xp6(4),e.Q6J("src",null!=n.category&&null!=n.category.image&&n.category.image.filename?"/images/icons/"+(null==n.category||null==n.category.image?null:n.category.image.filename):"./../../../../assets/thumbnail.svg"),e.xp6(5),e.Oqu(null==n.category?null:n.category.name),e.xp6(2),e.hij(" Descri\xe7\xe3o: ",null==n.category?null:n.category.description,""),e.xp6(2),e.hij(" ",e.xi3(16,6,null==n.category?null:n.category.updatedAt,"update")," "),e.xp6(2),e.Q6J("ngIf",!(null==n.category||null==n.category.image||!n.category.image.url)))},dependencies:[c.O5,i.PM,i.FN,i.Zi,i.tO,i.Dq,i.IJ,i.W4,i.gu,i.Xz,i.Bs,U._],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{align-self:center;position:relative;cursor:pointer}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > ion-thumbnail[_ngcontent-%COMP%]{width:80px;height:80px}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{position:absolute;right:-10px;bottom:-5px}"]}),o})();var O=r(6641);let D=(()=>{class o{constructor(t,n,a,l,p){this.helpService=t,this.modalController=n,this.categoryService=a,this.messageService=l,this.loadingService=p,this.attrButton={route:"/destroy",icon:"trash",label:"Excluir categoria",aria:"Excluir categoria.",title:"Excluir categoria."}}ngOnInit(){this.getData()}importForm(t){return this.form=t}onSubmit(t){return this.destroy(t)}destroy(t){const n=this.loadingService.show("Excluindo categoria...");return this.write=this.categoryService.delete(t.value).subscribe({next:a=>this.messsage(a,n),error:a=>this.messageService.error(a,n,this.write)})}messsage(t,n){if(t?.message)return this.helpService.delay(()=>this.modalController.dismiss(),2500),this.messageService.success(t?.message,n,this.write)}getData(){const{_csrf:t,id:n,password:a}=this.category;this.config={_csrf:t,id:n,password:a}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.f),e.Y36(i.IN),e.Y36(O.j),e.Y36(f.e),e.Y36(_.b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],inputs:{category:"category",action:"action",label:"label"},decls:11,vars:4,consts:[[3,"label"],[3,"fullscreen"],["fixed",""],["color","warning"],[1,"ion-margin-top"],[3,"inputConfig","attrButton","submitDataForm","exportForm"]],template:function(t,n){1&t&&(e._UZ(0,"app-header-component-modal",0),e.TgZ(1,"ion-content",1)(2,"ion-grid",2)(3,"ion-card")(4,"ion-card-header",3)(5,"ion-card-title"),e._uU(6,"Aten\xe7\xe3o!"),e.qZA()(),e.TgZ(7,"ion-card-content",4)(8,"p"),e._uU(9,"Todos os dados da categoria ser\xe3o descartados."),e.qZA()()(),e.TgZ(10,"app-form",5),e.NdJ("submitDataForm",function(l){return n.onSubmit(l)})("exportForm",function(l){return n.importForm(l)}),e.qZA()()()),2&t&&(e.Q6J("label",n.label),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(9),e.Q6J("inputConfig",n.config)("attrButton",n.attrButton))},dependencies:[i.PM,i.FN,i.Zi,i.Dq,i.W2,i.jY,b.U,M.s]}),o})(),J=(()=>{class o{constructor(t){this.modalController=t}destroy(){return(0,v.mG)(this,void 0,void 0,function*(){if(this.category){const{_csrf:t,id:n}=this.category;return yield(yield this.modalController.create({component:D,componentProps:{action:"destroy",label:"Excluir categoria",category:{_csrf:t,password:"",id:n}}})).present()}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-destroy-announcement-component"]],inputs:{category:"category"},decls:4,vars:0,consts:[["detail","true","title","Excluir usu\xe1rio","aria-label","Clique para excluir usu\xe1rio","button","",3,"click"],["name","trash","slot","start"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-item",0),e.NdJ("click",function(){return n.destroy()}),e._UZ(1,"ion-icon",1),e.TgZ(2,"ion-label"),e._uU(3,"Excluir"),e.qZA()())},dependencies:[i.gu,i.Ie,i.Q$]}),o})();function x(o,s){if(1&o&&(e.TgZ(0,"ion-grid",4),e._UZ(1,"app-image-category-component",5),e.TgZ(2,"ion-item-group")(3,"ion-row")(4,"ion-col",6),e._UZ(5,"app-category-announcement-state-component",5)(6,"app-category-announcement-update-component",5)(7,"app-destroy-announcement-component",5),e.qZA()()()()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("category",t),e.xp6(4),e.Q6J("category",t),e.xp6(1),e.Q6J("category",t),e.xp6(1),e.Q6J("category",t)}}const Y=[{path:"",component:(()=>{class o{constructor(t,n,a){this.categoryService=t,this.activatedRoute=n,this.navCtrl=a}ngOnInit(){this.setCategory()}back(){this.navCtrl.back()}setCategory(){var t;this.categoryService.setCategory=null===(t=this.activatedRoute.snapshot.data)||void 0===t?void 0:t.category,this.category$=this.categoryService.categoryObservable}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.H),e.Y36(m.gz),e.Y36(i.SH))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],decls:9,vars:4,consts:[["slot","start"],["defaultHref","",3,"click"],[3,"fullscreen"],["fixed","",4,"ngIf"],["fixed",""],[3,"category"],["size","12"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-back-button",1),e.NdJ("click",function(){return n.back()}),e.qZA()(),e.TgZ(4,"ion-title"),e._uU(5,"Gerenciamento de categoria"),e.qZA()()(),e.TgZ(6,"ion-content",2),e.YNc(7,x,8,4,"ion-grid",3),e.ALo(8,"async"),e.qZA()),2&t&&(e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",e.lcZ(8,2,n.category$)))},dependencies:[c.O5,i.oU,i.Sm,i.wI,i.W2,i.jY,i.Gu,i.Ub,i.Nd,i.wd,i.sr,i.cs,Z,T,I,J,c.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{align-self:center;position:relative;cursor:pointer}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > ion-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{position:absolute;right:-10px;bottom:-5px}"]}),o})()}];let Q=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(Y),m.Bz]}),o})();var N=r(2728),B=r(3493),j=r(5447),$=r(310);let H=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,u.u5,i.Pc,Q,N.i,B.d,j.j,$.U]}),o})()}}]);