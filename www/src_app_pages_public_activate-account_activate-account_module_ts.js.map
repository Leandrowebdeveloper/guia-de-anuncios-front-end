{"version":3,"file":"src_app_pages_public_activate-account_activate-account_module_ts.js","mappings":"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","sources":["./src/app/pages/public/activate-account/activate-account-routing.module.ts","./src/app/pages/public/activate-account/activate-account.module.ts","./src/app/pages/public/activate-account/activate-account.page.ts","./src/app/pages/public/activate-account/guard/resolve.guard.ts","./src/app/pages/public/activate-account/services/activate-account.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PublicAutorizationGuard } from 'src/app/services/auth/guard/public-autorization/public-autorization.guard';\n\nimport { ActivateAccountPage } from './activate-account.page';\nimport { ActivateAccountResolver } from './guard/resolve.guard';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ActivateAccountPage,\n    canActivate: [PublicAutorizationGuard],\n    canLoad: [PublicAutorizationGuard],\n    resolve: {\n      activateAccount: ActivateAccountResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ActivateAccountPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ActivateAccountPageRoutingModule } from './activate-account-routing.module';\n\nimport { ActivateAccountPage } from './activate-account.page';\nimport { ActivateAccountService } from './services/activate-account.service';\nimport { HeaderModule } from 'src/app/header/header.module';\nimport { FooterModule } from 'src/app/footer/footer.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ActivateAccountPageRoutingModule,\n    HeaderModule,\n    FooterModule\n  ],\n  declarations: [ActivateAccountPage],\n  providers: [ActivateAccountService]\n})\nexport class ActivateAccountPageModule {}\n","import { ActivatedRoute } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport { EMPTY, Subject, Observable } from 'rxjs';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { catchError } from 'rxjs/operators';\n\nimport { ActivateAccountService } from './services/activate-account.service';\nimport { ActivateAccount } from 'src/app/interface';\n\n@Component({\n  selector: 'app-activate-account',\n  templateUrl: './activate-account.page.html',\n  styleUrls: ['./activate-account.page.scss'],\n})\nexport class ActivateAccountPage implements OnInit {\n  public error!: string;\n  public activateCount$!: Observable<ActivateAccount>;\n  public error$ = new Subject<boolean>();\n  constructor(\n    private activateCountService: ActivateAccountService,\n    private activatedRoute: ActivatedRoute\n  ) {}\n\n  private get key(): string {\n    return this.activatedRoute.snapshot.data['activateAccount'];\n  }\n\n  ngOnInit() {\n    this.thereIsKeyForActivateCount();\n  }\n\n  private thereIsKeyForActivateCount(): Observable<ActivateAccount> {\n    return (this.activateCount$ = this.activateCountService\n      .sendActivationToken(this.key)\n      .pipe(catchError((error: HttpErrorResponse) => this.setErrors(error))));\n  }\n\n  private setErrors(error: HttpErrorResponse): Observable<never> {\n    this.error = error?.error;\n    this.error$.next(true);\n    return EMPTY;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n    Resolve,\n    ActivatedRouteSnapshot,\n    Router,\n    UrlTree,\n} from '@angular/router';\n\n@Injectable({ providedIn: 'root' })\nexport class ActivateAccountResolver implements Resolve<string | UrlTree> {\n    constructor(private router: Router) {}\n\n    resolve(route: ActivatedRouteSnapshot): string | UrlTree {\n        const { token } = route.params;\n        if (token && typeof token === 'string') {\n            return token;\n        }\n        return this.router.parseUrl('/');\n    }\n}\n","import { HttpService } from 'src/app/services/http/http.service';\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nimport { ActivateAccount } from 'src/app/interface';\nimport { StorageService } from 'src/app/services/storage/storage.service';\n\n@Injectable()\nexport class ActivateAccountService extends HttpService<ActivateAccount> {\n  constructor(\n    public override http: HttpClient,\n    public override storageService: StorageService\n  ) {\n    super(http, storageService);\n    this.setApi = `activate-account`;\n  }\n\n  public sendActivationToken(activate: string): Observable<ActivateAccount> {\n    return this.find(activate);\n  }\n}\n"],"names":["NgModule","RouterModule","PublicAutorizationGuard","ActivateAccountPage","ActivateAccountResolver","routes","path","component","canActivate","canLoad","resolve","activateAccount","ActivateAccountPageRoutingModule","imports","forChild","exports","CommonModule","FormsModule","IonicModule","ActivateAccountService","HeaderModule","FooterModule","ActivateAccountPageModule","declarations","providers","ActivatedRoute","Component","EMPTY","Subject","catchError","constructor","activateCountService","activatedRoute","key","snapshot","data","ngOnInit","thereIsKeyForActivateCount","activateCount$","sendActivationToken","pipe","error","setErrors","error$","next","selector","template","Injectable","Router","router","route","token","params","parseUrl","providedIn","HttpService","HttpClient","StorageService","http","storageService","setApi","activate","find"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}