"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1034],{1034:(N,f,n)=>{n.r(f),n.d(f,{RedefinePasswordPageModule:()=>I});var h=n(6895),R=n(433),a=n(9267),S=n(1265),w=n(262),x=n(515),e=n(4650),c=n(5203),F=n(3755),A=n(529),T=n(6578),v=n(8039),m=n(3131),g=n(6388);let u=(()=>{class r extends F.O{constructor(t,s,o,d,l,J){super(t,s),this.http=t,this.storageService=s,this.loadingService=o,this.navCtrl=d,this.helpsService=l,this.messageService=J,this.setApi="redefine-password"}passwordRecover(t){return this.create(t)}error(t,s,o){return this.messageService.error(t,s,o)}goToLoginPage(){return this.helpsService.delay(()=>this.navCtrl.navigateForward("/entrar"),2500)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(A.eN),e.LFG(T.V),e.LFG(v.b),e.LFG(a.SH),e.LFG(m.f),e.LFG(g.e))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),p=(()=>{class r{constructor(t,s){this.router=t,this.redefineService=s}resolve(t){var s,o;return null!==(s=t.params)&&void 0!==s&&s.token?this.redefineService.requirement(null===(o=t.params)||void 0===o?void 0:o.token).pipe((0,w.K)(d=>(this.router.parseUrl("/404"),x.E))):this.router.parseUrl("/")}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(c.F0),e.LFG(u))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();var M=n(2077),C=n(7868),y=n(67);function z(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"app-form",4),e.NdJ("submitDataForm",function(o){e.CHM(t);const d=e.oxw();return e.KtG(d.onSubmit(o))})("exportForm",function(o){e.CHM(t);const d=e.oxw();return e.KtG(d.importForm(o))}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("inputConfig",t.user)("attrButton",t.attrButton)}}function Z(r,i){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.message)}}function L(r,i){1&r&&(e._uU(0," O tempo max\xedmo para redefinir sua senha e de 10 minutos ap\xf3s o envio do email."),e._UZ(1,"br"))}const U=function(){return["/recuperar-senha"]};function Y(r,i){if(1&r&&(e.TgZ(0,"ion-card")(1,"ion-card-header",5)(2,"ion-card-title"),e._uU(3," \u231b Aten\xe7\xe3o ! "),e.qZA()(),e.TgZ(4,"ion-card-content",6),e.YNc(5,Z,2,1,"div",2),e.YNc(6,L,2,0,"ng-template",null,7,e.W1O),e._uU(8," Tente novamente. "),e.TgZ(9,"ion-button",8),e._UZ(10,"ion-icon",9),e._uU(11," Recuperar senha "),e.qZA()()()),2&r){const t=e.MAs(7),s=e.oxw();e.xp6(5),e.Q6J("ngIf",s.message)("ngIfElse",t),e.xp6(4),e.Q6J("routerLink",e.DdM(3,U))}}let G=(()=>{class r{constructor(t,s,o,d,l){this.activatedRoute=t,this.helpsService=s,this.redefinePasswordService=o,this.messageService=d,this.loadingService=l}ngOnInit(){this.setConfig(),this.setAttrButton(),this.isActived(),this.setMessageLinkInvalid()}canDeactivate(){return this.authorizeRoute()?this.authorizeRoute():!this.canAuthorizeTheRoute()||this.canDeactivatedConfirmAlert()}importForm(t){this.form=t}onSubmit(t){const s=this.loadingService.show("Recuperando senha...");return this.redefine=this.redefinePasswordService.passwordRecover(t.value).subscribe({next:o=>this.success(o,s),error:o=>this.error(o,s)})}setMessageLinkInvalid(){var t;return this.message=null===(t=this.user)||void 0===t?void 0:t.message}isActived(){var t;return this.active=null===(t=this.user)||void 0===t?void 0:t.active}disableCanDeactivate(){return this.urlTree=!0}authorizeRoute(){return this.urlTree}canAuthorizeTheRoute(){return this.helpsService.isAuthorizeTheRoute(this.form)}canDeactivatedConfirmAlert(){return this.helpsService.messageAuthorizeTheRoute()}success(t,s){return this.disableCanDeactivate(),this.formUpdate(),this.redefinePasswordService.goToLoginPage(),this.messageService.success(t.message,s,this.redefine)}error(t,s){return this.redefinePasswordService.error(t,s,this.redefine)}formUpdate(){return this.helpsService.delay(()=>this.helpsService.correctFormGroupValueRecalculatingStatusControlsAndErrorMessages(this.form,this.user),2e3)}setConfig(){this.user=this.activatedRoute.snapshot.data.redefinePassword}setAttrButton(){this.attrButton={route:"redefinir-senha",icon:"arrow-up-circle",label:"Redefinir senha",fill:!1,aria:"Redefinir senha.",title:"Redefinir senha."}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(c.gz),e.Y36(m.f),e.Y36(u),e.Y36(g.e),e.Y36(v.b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-redefine-password"]],decls:7,vars:3,consts:[[3,"fullscreen"],["fixed",""],[4,"ngIf","ngIfElse"],["Message",""],[3,"inputConfig","attrButton","submitDataForm","exportForm"],["color","warning"],[1,"ion-margin-top"],["Empty",""],["expand","block","color","primary","routerDirection","forward",1,"ion-margin-top",3,"routerLink"],["name","key",1,"ion-margin-end"]],template:function(t,s){if(1&t&&(e._UZ(0,"app-header-component"),e.TgZ(1,"ion-content",0)(2,"ion-grid",1),e.YNc(3,z,2,2,"div",2),e.YNc(4,Y,12,4,"ng-template",null,3,e.W1O),e.qZA()(),e._UZ(6,"app-footer")),2&t){const o=e.MAs(5);e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("ngIf",s.active)("ngIfElse",o)}},dependencies:[h.O5,a.YG,a.PM,a.FN,a.Zi,a.Dq,a.W2,a.jY,a.gu,a.YI,c.rH,M.U,C.G,y.S],styles:["ion-card-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:100%}ion-card-subtitle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:10px;font-size:160%}"]}),r})();var P=n(1069);const D=[{path:"",component:G,canActivate:[P.$],canLoad:[P.$],resolve:{redefinePassword:p}}];let B=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[c.Bz.forChild(D),c.Bz]}),r})();var E=n(677),O=n(6444);let I=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[p,u],imports:[h.ez,R.u5,a.Pc,B,S.Q,E.O,O._]}),r})()}}]);