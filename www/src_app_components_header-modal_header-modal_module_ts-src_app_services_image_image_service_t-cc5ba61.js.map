{"version":3,"file":"src_app_components_header-modal_header-modal_module_ts-src_app_services_image_image_service_t-cc5ba61.js","mappings":"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","sources":["./src/app/components/header-modal/header-modal.component.ts","./src/app/components/header-modal/header-modal.module.ts","./src/app/services/image/image.service.ts","./node_modules/@capacitor/camera/dist/esm/definitions.js","./node_modules/@capacitor/camera/dist/esm/index.js","./src/app/components/header-modal/header-modal.component.scss"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { ModalController, Platform } from '@ionic/angular';\n\n@Component({\n  selector: 'app-header-component-modal',\n  templateUrl: './header-modal.component.html',\n  styleUrls: ['./header-modal.component.scss'],\n})\nexport class HeaderModalComponent implements OnInit {\n  @Input() label!: string;\n  public isPlt!: boolean;\n  constructor(\n    private plt: Platform,\n    private modalController: ModalController\n  ) {}\n\n  ngOnInit() {\n    this.isPlt = this.plt.is('desktop');\n  }\n\n  public close(): Promise<boolean> {\n    return this.modalController.dismiss();\n  }\n}\n","import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HeaderModalComponent } from './header-modal.component';\n\n\n@NgModule({\n  declarations: [HeaderModalComponent],\n  imports: [\n    IonicModule,\n    CommonModule\n  ],\n  exports: [HeaderModalComponent],\n})\nexport class HeaderModalModule { }\n","import { Injectable } from '@angular/core';\nimport {\n  Camera,\n  CameraResultType,\n  CameraSource,\n  Photo,\n} from '@capacitor/camera';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ImageService {\n  public async addPhoto(): Promise<Photo | void> {\n    try {\n      return await Camera.getPhoto({\n        resultType: CameraResultType.Uri,\n        source: CameraSource.Prompt,\n        allowEditing: true,\n        quality: 100,\n        saveToGallery: true,\n      });\n    } catch (error) {}\n  }\n\n  public async readAsBase64(photo: Photo): Promise<{\n    file: Blob;\n    fileName: string;\n  }> {\n    const fileName = new Date().getTime() + '.jpeg';\n    const response = await fetch(photo.webPath!);\n    const blob = await response.blob();\n\n    const data = (await this.convertBlobToBase64(blob)) as string;\n\n    const _response = await fetch(data!);\n    const _blob = await _response.blob();\n\n    return {\n      file: _blob,\n      fileName,\n    };\n  }\n\n  public convertBlobToBase64 = (blob: Blob) =>\n    new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onerror = reject;\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.readAsDataURL(blob);\n    });\n}\n","export var CameraSource;\n(function (CameraSource) {\n    /**\n     * Prompts the user to select either the photo album or take a photo.\n     */\n    CameraSource[\"Prompt\"] = \"PROMPT\";\n    /**\n     * Take a new photo using the camera.\n     */\n    CameraSource[\"Camera\"] = \"CAMERA\";\n    /**\n     * Pick an existing photo from the gallery or photo album.\n     */\n    CameraSource[\"Photos\"] = \"PHOTOS\";\n})(CameraSource || (CameraSource = {}));\nexport var CameraDirection;\n(function (CameraDirection) {\n    CameraDirection[\"Rear\"] = \"REAR\";\n    CameraDirection[\"Front\"] = \"FRONT\";\n})(CameraDirection || (CameraDirection = {}));\nexport var CameraResultType;\n(function (CameraResultType) {\n    CameraResultType[\"Uri\"] = \"uri\";\n    CameraResultType[\"Base64\"] = \"base64\";\n    CameraResultType[\"DataUrl\"] = \"dataUrl\";\n})(CameraResultType || (CameraResultType = {}));\n","import { registerPlugin } from '@capacitor/core';\nconst Camera = registerPlugin('Camera', {\n    web: () => import('./web').then(m => new m.CameraWeb()),\n});\nexport * from './definitions';\nexport { Camera };\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["Component","Input","ModalController","Platform","HeaderModalComponent","constructor","plt","modalController","ngOnInit","isPlt","is","close","dismiss","selector","template","IonicModule","NgModule","CommonModule","HeaderModalModule","declarations","imports","exports","Injectable","Camera","CameraResultType","CameraSource","ImageService","blob","Promise","resolve","reject","reader","FileReader","onerror","onload","result","readAsDataURL","addPhoto","getPhoto","resultType","Uri","source","Prompt","allowEditing","quality","saveToGallery","error","readAsBase64","photo","fileName","Date","getTime","response","fetch","webPath","data","convertBlobToBase64","_response","_blob","file","providedIn","CameraDirection","registerPlugin","web","then","m","CameraWeb"],"sourceRoot":"webpack:///","x_google_ignoreList":[3,4]}