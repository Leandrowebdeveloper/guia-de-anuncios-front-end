"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6304],{6304:(S,h,t)=>{t.r(h),t.d(h,{LogoutPageModule:()=>I});var u=t(6895),c=t(433),a=t(9267),g=t(5203),n=t(8322),o=t(4650),e=t(655),v=t(8505),s=t(262),l=t(515),f=t(3755),L=t(529),y=t(6578),p=t(1228),M=t(8039),A=t(6388),G=t(3131);let E=(()=>{class r extends f.O{constructor(i,d,P,B,R,K,W){super(i,d),this.http=i,this.storageService=d,this.authService=P,this.navCtrl=B,this.loadingService=R,this.messageService=K,this.helpsService=W,this.setApi="logout"}destroySession(){const i=this.loading();return this.findAll().pipe((0,v.b)(d=>this.success(d,i),(0,s.K)(d=>(this.error(d,i),l.E))))}success(i,d){this.helpsService.delay(()=>{this.setAuthUser(i),this.clearsSessionAndDatabaseStorage()},2500),this.disableLoadingAndGoToLoginPage(d)}loading(){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.loadingService.show("Saindo do sistema...")})}disableLoading(i){return(0,e.mG)(this,void 0,void 0,function*(){return this.helpsService.delay(()=>(0,e.mG)(this,void 0,void 0,function*(){return yield(yield i).dismiss()}),2e3)})}error(i,d){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.disableLoading(d),this.messageService.error(i)})}disableLoadingAndGoToLoginPage(i){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.disableLoading(i),yield this.goToLoginPage()})}goToLoginPage(){return(0,e.mG)(this,void 0,void 0,function*(){return this.helpsService.delay(()=>(0,e.mG)(this,void 0,void 0,function*(){return yield this.navCtrl.navigateForward("/entrar")}),2500)})}clearsSessionAndDatabaseStorage(){this.removeTokenStorageSession(),this.removeTokenStorageDatabase()}removeTokenStorageSession(){return sessionStorage.removeItem("token")}removeTokenStorageDatabase(){return this.storageService.clean()}setAuthUser(i){return this.authService.setUser=i,this.authService.setApi="",this.authService.setIsLoggedIn=i}}return r.\u0275fac=function(i){return new(i||r)(o.LFG(L.eN),o.LFG(y.V),o.LFG(p.e),o.LFG(a.SH),o.LFG(M.b),o.LFG(A.e),o.LFG(G.f))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();var D=t(7868),O=t(67);const C=[{path:"",canActivate:[n.x],canLoad:[n.x],component:(()=>{class r{constructor(i,d){this.navCtrl=i,this.logoutService=d}logout_(){return this.logout=this.logoutService.destroySession().subscribe({next:()=>this.logout.unsubscribe()})}back(){return this.navCtrl.back()}}return r.\u0275fac=function(i){return new(i||r)(o.Y36(a.SH),o.Y36(E))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-logout"]],decls:19,vars:1,consts:[[3,"fullscreen"],["fixed",""],[1,"ion-margin-vertical"],["size","6"],["expand","block",3,"click"],["name","log-out"],["name","log-in"]],template:function(i,d){1&i&&(o._UZ(0,"app-header-component"),o.TgZ(1,"ion-content",0)(2,"ion-grid",1)(3,"ion-card")(4,"ion-card-header")(5,"ion-card-subtitle"),o._uU(6,"Voc\xea pretende sair do sistema?"),o.qZA()(),o.TgZ(7,"ion-card-content")(8,"ion-grid",2)(9,"ion-row")(10,"ion-col",3)(11,"ion-button",4),o.NdJ("click",function(){return d.logout_()}),o._UZ(12,"ion-icon",5),o._uU(13,"\xa0 sim "),o.qZA()(),o.TgZ(14,"ion-col",3)(15,"ion-button",4),o.NdJ("click",function(){return d.back()}),o._UZ(16,"ion-icon",6),o._uU(17,"\xa0 n\xe3o "),o.qZA()()()()()()()(),o._UZ(18,"app-footer")),2&i&&(o.xp6(1),o.Q6J("fullscreen",!0))},dependencies:[a.YG,a.PM,a.FN,a.Zi,a.tO,a.wI,a.W2,a.jY,a.gu,a.Nd,D.G,O.S]}),r})()}];let U=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[g.Bz.forChild(C),g.Bz]}),r})();var b=t(677),F=t(6444);let I=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[E],imports:[u.ez,c.u5,a.Pc,U,b.O,F._]}),r})()},1395:(S,h,t)=>{t.d(h,{c:()=>g});var u=t(655),c=t(4650),a=t(9267);let g=(()=>{class n{constructor(e){this.alertController=e}alert(e,v){return(0,u.mG)(this,void 0,void 0,function*(){const s=yield this.alertController.create({header:e,message:v,buttons:["OK"]});return yield s.present(),s})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(a.Br))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},8039:(S,h,t)=>{t.d(h,{b:()=>g});var u=t(655),c=t(4650),a=t(9267);let g=(()=>{class n{constructor(e){this.loadingController=e}show(e){return(0,u.mG)(this,void 0,void 0,function*(){const v=this.loadingController.create({message:e,spinner:"bubbles"});return(yield v).present(),v})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(a.HT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},6388:(S,h,t)=>{t.d(h,{e:()=>o});var u=t(655),c=t(4650),a=t(9524),g=t(1395),n=t(3131);let o=(()=>{class e{constructor(s,l,f){this.toastService=s,this.alertService=l,this.helpsService=f}success(s,l,f,L=3e3){return(0,u.mG)(this,void 0,void 0,function*(){return this.disableLoadingUnsubscribeVariable(l,f),this.helpsService.delay(()=>(0,u.mG)(this,void 0,void 0,function*(){return yield this.toastService.show(s,"bottom","thumbs-up",2500)}),L)})}alert(s){return this.helpsService.delay(()=>this.alertService.alert("Aten\xe7\xe3o",s?.error),2e3)}disableLoadingUnsubscribeVariable(s,l){return(0,u.mG)(this,void 0,void 0,function*(){s&&l&&(this.helpsService.delay(()=>(0,u.mG)(this,void 0,void 0,function*(){return(yield s).dismiss()}),2e3),l.unsubscribe())})}error(s,l,f){return this.disableLoadingUnsubscribeVariable(l,f).then(),this.alert(s)}disable(s,l){return(0,u.mG)(this,void 0,void 0,function*(){return yield this.disableLoadingUnsubscribeVariable(s,l)})}}return e.\u0275fac=function(s){return new(s||e)(c.LFG(a.k),c.LFG(g.c),c.LFG(n.f))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},9524:(S,h,t)=>{t.d(h,{k:()=>g});var u=t(655),c=t(4650),a=t(9267);let g=(()=>{class n{constructor(e){this.toastController=e}show(e,v,s,l,f="light"){return(0,u.mG)(this,void 0,void 0,function*(){const L=yield this.toastController.create({message:e,icon:s,duration:l,position:v,color:f,buttons:[{side:"end",icon:"add-circle-outline",handler:()=>this.toastController.dismiss()}]});return L.present(),L})}loading(e,v,s){return(0,u.mG)(this,void 0,void 0,function*(){const l=yield this.toastController.create({message:e,position:v,color:"light",icon:s});return l.present(),l})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(a.yF))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);