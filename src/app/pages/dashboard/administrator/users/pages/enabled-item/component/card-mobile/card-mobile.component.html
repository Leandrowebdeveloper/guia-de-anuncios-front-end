<ion-card *ngFor="let user of users">
  <ion-card-header>
    <div>
      <ion-avatar class="ion-margin-end">
        <img
          [src]="user?.image?.url || './../../../../assets/avatar.svg'"
          referrerpolicy="no-referrer"
          title="Imagem do usuário."
          alt="Imagem do usuário."
        />
      </ion-avatar>
      <ion-card-subtitle
        [title]="user?.level === '1' ? 'Administrador' : 'Colaborador'"
        [attr.data-message]="
          user?.level === '1' ? 'Administrador' : 'Colaborador'
        "
        >{{
          user?.level === "1" ? "Administrador" : "Colaborador"
        }}</ion-card-subtitle
      >
    </div>

    <ion-card-title
      [title]="'Nome: ' + user?.name"
      [attr.data-message]="'Nome: ' + user?.name"
      >{{ user?.name }}</ion-card-title
    >
  </ion-card-header>

  <ion-card-content>
    <ion-text>
      <p class="no-margin">
        <small *ngIf="user?.plan?.type === 'free'">Plano grátis</small>
        <small *ngIf="user?.plan?.type === 'basic'">Plano básico</small>
        <small *ngIf="user?.plan?.type === 'special'">Plano especial</small>
      </p>

      <p class="no-margin" [hidden]="!user?.plan?.end">
        <small>{{ user?.plan?.end | time : "plan" }}</small>
      </p>
    </ion-text>
    <ion-text class="flex">
      <small
        class="margin"
        [attr.data-message]="
          user?.blockade
            ? 'Usuário está bloqueado'
            : 'Usuário está desbloqueado'
        "
        [title]="
          user?.blockade
            ? 'Usuário está bloqueado'
            : 'Usuário está desbloqueado'
        "
      >
        <ion-icon
          [color]="user?.blockade ? 'danger' : 'success'"
          slot="end"
          [name]="user?.blockade ? 'stop' : 'play'"
        ></ion-icon>
        {{ user?.blockade ? "bloqueado" : "desbloqueado" }}
      </small>
      <small
        [attr.data-message]="
          user?.state ? 'Usuário está online' : 'Usuário está offline'
        "
        [title]="user?.state ? 'Usuário está online' : 'Usuário está offline'"
      >
        <ion-icon
          [color]="user?.state ? 'success' : 'danger'"
          slot="end"
          [name]="user?.state ? 'power' : 'radio-button-off'"
        ></ion-icon>
        {{ user?.state ? "online" : "offline" }}
      </small>
    </ion-text>
    <div>
      <ion-button
        size="small"
        class="ion-margin-top"
        [routerLink]="['/painel-de-controle', 'admin', 'usuario', user?.slug]"
        >Gerenciamento</ion-button
      >
    </div>
  </ion-card-content>
</ion-card>
